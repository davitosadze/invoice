{"version":3,"file":"js/vendors/invoice-edit.js","mappings":"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S,CACbH,OAAAA,GACAF,cAAAA,GACAC,KAAAA,ICVF,IAAMK,GAAO,CACX,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,OACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,KACA,MACA,OACA,IACA,OACA,SACA,UACA,SACA,OACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,OAWF,SAASC,GAAgBtzB,GACvB,MACE,CAAC,KAAM,QAAS,OAAQ,SAASJ,SAASI,IAC1CA,EAAMmF,WAAW,UACjBnF,EAAMmF,WAAW,UACjBnF,EAAMmF,WAAW,upDCjIrB,SAASouB,GAAQC,GACf,OAAOA,EAAQ/zB,QAAO,SAACmH,EAAD,GAAuB,cAAhBtC,EAAgB,KAAXtE,EAAW,KAE3C,OADA4G,EAAItC,GAAOtE,EACJ4G,IACN,IA2BL,SAAS6sB,GAAwBzzB,GAC/B,OAAOT,OAAOi0B,QAAQxzB,GACnB2G,QAAO,0BAAErC,EAAF,iBAAegvB,GAAgBhvB,MACtC6B,KAAI,0BAAE7B,EAAF,KAAOtE,EAAP,WAAkB,CAAC8yB,GAASxuB,GAAMtE,MACtC2G,QAAO,gBF1BQsU,EE0BR,UAAE3W,EAAF,iBF1BQ2W,EE0BkB3W,KFzBa,IAA1C4uB,GAAkB3kB,QAAQ0M,g7BGdnC,IAAMyY,GAAyB,SAAC,GAAD,SAAGhkB,IAG5BikB,GAAa,SAAAC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","sources":["webpack:///./node_modules/@vuelidate/core/dist/index.esm.js","webpack:///./node_modules/@vuelidate/validators/dist/index.esm.js","webpack:///./node_modules/sortablejs/modular/sortable.esm.js","webpack:///./resources/js/app/vendors/vuedraggable/src/util/htmlHelper.js","webpack:///./resources/js/app/vendors/vuedraggable/src/util/console.js","webpack:///./resources/js/app/vendors/vuedraggable/src/util/string.js","webpack:///./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js","webpack:///./resources/js/app/vendors/vuedraggable/src/util/tags.js","webpack:///./resources/js/app/vendors/vuedraggable/src/core/componentBuilderHelper.js","webpack:///./resources/js/app/vendors/vuedraggable/src/core/componentStructure.js","webpack:///./resources/js/app/vendors/vuedraggable/src/core/renderHelper.js","webpack:///./resources/js/app/vendors/vuedraggable/src/vuedraggable.js","webpack:///./resources/js/app/pages/Invoice-Edit.vue?01e9","webpack:///./resources/js/app/pages/Invoice-Edit.vue","webpack:///./resources/js/app/pages/Invoice-Edit.vue?9b41","webpack:///./resources/js/app/pages/Invoice-Edit.vue?f22a"],"sourcesContent":["import { isReactive, isReadonly, unref, ref, computed, watch, reactive, isRef, nextTick, inject, provide, getCurrentInstance, onBeforeMount, onBeforeUnmount } from 'vue-demi';\n\nfunction unwrapObj(obj) {\n  let ignoreKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return Object.keys(obj).reduce((o, k) => {\n    if (ignoreKeys.includes(k)) return o;\n    o[k] = unref(obj[k]);\n    return o;\n  }, {});\n}\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\n\n/**\n * Response form a raw Validator function.\n * Should return a Boolean or an object with $invalid property.\n * @typedef {Boolean | { $valid: Boolean }} ValidatorResponse\n */\n\n/**\n * Calls a validation rule by unwrapping its value first from a ref.\n * @param {Validator} rule\n * @param {Ref} value\n * @param {VueInstance} instance\n * @param {Object} siblingState\n * @return {Promise<ValidatorResponse> | ValidatorResponse}\n */\n\nfunction callRule(rule, value, siblingState, instance) {\n  return rule.call(instance, unref(value), unref(siblingState), instance);\n}\n/**\n * Normalizes the validator result\n * Allows passing a boolean of an object like `{ $valid: Boolean }`\n * @param {ValidatorResponse} result - Validator result\n * @return {boolean}\n */\n\n\nfunction normalizeValidatorResponse(result) {\n  return result.$valid !== undefined ? !result.$valid : !result;\n}\n/**\n * Returns the result of an async validator.\n * @param {Validator} rule\n * @param {Ref<*>} model\n * @param {Ref<Boolean>} $pending\n * @param {Ref<Boolean>} $dirty\n * @param {GlobalConfig} config\n * @param {boolean} config.$lazy\n * @param {Ref<*>} $response\n * @param {VueInstance} instance\n * @param {Ref<*>[]} watchTargets\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState\n * @param {Ref<Number>} $lastCommittedOn\n * @return {{ $invalid: Ref<Boolean>, $unwatch: WatchStopHandle }}\n */\n\n\nfunction createAsyncResult(rule, model, $pending, $dirty, _ref, $response, instance) {\n  let {\n    $lazy,\n    $rewardEarly\n  } = _ref;\n  let watchTargets = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : [];\n  let siblingState = arguments.length > 8 ? arguments[8] : undefined;\n  let $lastInvalidState = arguments.length > 9 ? arguments[9] : undefined;\n  let $lastCommittedOn = arguments.length > 10 ? arguments[10] : undefined;\n  const $invalid = ref(!!$dirty.value);\n  const $pendingCounter = ref(0);\n  $pending.value = false;\n  const $unwatch = watch([model, $dirty].concat(watchTargets, $lastCommittedOn), () => {\n    if ( // if $lazy and not dirty, return\n    $lazy && !$dirty.value || // if in $rewardEarly mode and no previous errors, nothing pending, return\n    $rewardEarly && !$lastInvalidState.value && !$pending.value) {\n      return;\n    }\n\n    let ruleResult; // make sure we dont break if a validator throws\n\n    try {\n      ruleResult = callRule(rule, model, siblingState, instance);\n    } catch (err) {\n      // convert to a promise, so we can handle it async\n      ruleResult = Promise.reject(err);\n    }\n\n    $pendingCounter.value++;\n    $pending.value = !!$pendingCounter.value; // ensure $invalid is false, while validator is resolving\n\n    $invalid.value = false;\n    Promise.resolve(ruleResult).then(data => {\n      $pendingCounter.value--;\n      $pending.value = !!$pendingCounter.value;\n      $response.value = data;\n      $invalid.value = normalizeValidatorResponse(data);\n    }).catch(error => {\n      $pendingCounter.value--;\n      $pending.value = !!$pendingCounter.value;\n      $response.value = error;\n      $invalid.value = true;\n    });\n  }, {\n    immediate: true,\n    deep: typeof model === 'object'\n  });\n  return {\n    $invalid,\n    $unwatch\n  };\n}\n/**\n * Returns the result of a sync validator\n * @param {Validator} rule\n * @param {Ref<*>} model\n * @param {Ref<Boolean>} $dirty\n * @param {GlobalConfig} config\n * @param {Boolean} config.$lazy\n * @param {Ref<*>} $response\n * @param {VueInstance} instance\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState\n * @return {{$unwatch: (function(): {}), $invalid: ComputedRef<boolean>}}\n */\n\n\nfunction createSyncResult(rule, model, $dirty, _ref2, $response, instance, siblingState, $lastInvalidState) {\n  let {\n    $lazy,\n    $rewardEarly\n  } = _ref2;\n\n  const $unwatch = () => ({});\n\n  const $invalid = computed(() => {\n    if ( // return early if $lazy mode and not touched\n    $lazy && !$dirty.value || // If $rewardEarly mode is ON and last invalid was false (no error), return it.\n    // If we want to invalidate, we just flip the last state to true, causing the computed to run again\n    $rewardEarly && !$lastInvalidState.value) {\n      return false;\n    }\n\n    let returnValue = true;\n\n    try {\n      const result = callRule(rule, model, siblingState, instance);\n      $response.value = result;\n      returnValue = normalizeValidatorResponse(result);\n    } catch (err) {\n      $response.value = err;\n    }\n\n    return returnValue;\n  });\n  return {\n    $unwatch,\n    $invalid\n  };\n}\n/**\n * Returns the validation result.\n * Detects async and sync validators.\n * @param {NormalizedValidator} rule\n * @param {Ref<*>} model\n * @param {Ref<boolean>} $dirty\n * @param {GlobalConfig} config - Vuelidate config\n * @param {VueInstance} instance - component instance\n * @param {string} validatorName - name of the current validator\n * @param {string} propertyKey - the current property we are validating\n * @param {string} propertyPath - the deep path to the validated property\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState - the last invalid state\n * @param {Ref<Number>} $lastCommittedOn - the last time $commit was called\n * @return {{ $params: *, $message: Ref<String>, $pending: Ref<Boolean>, $invalid: Ref<Boolean>, $response: Ref<*>, $unwatch: WatchStopHandle }}\n */\n\n\nfunction createValidatorResult(rule, model, $dirty, config, instance, validatorName, propertyKey, propertyPath, siblingState, $lastInvalidState, $lastCommittedOn) {\n  const $pending = ref(false);\n  const $params = rule.$params || {};\n  const $response = ref(null);\n  let $invalid;\n  let $unwatch;\n\n  if (rule.$async) {\n    ({\n      $invalid,\n      $unwatch\n    } = createAsyncResult(rule.$validator, model, $pending, $dirty, config, $response, instance, rule.$watchTargets, siblingState, $lastInvalidState, $lastCommittedOn));\n  } else {\n    ({\n      $invalid,\n      $unwatch\n    } = createSyncResult(rule.$validator, model, $dirty, config, $response, instance, siblingState, $lastInvalidState));\n  }\n\n  const message = rule.$message;\n  const $message = isFunction(message) ? computed(() => message(unwrapObj({\n    $pending,\n    $invalid,\n    $params: unwrapObj($params),\n    // $params can hold refs, so we unwrap them for easy access\n    $model: model,\n    $response,\n    $validator: validatorName,\n    $propertyPath: propertyPath,\n    $property: propertyKey\n  }))) : message || '';\n  return {\n    $message,\n    $params,\n    $pending,\n    $invalid,\n    $response,\n    $unwatch\n  };\n}\n\n/**\n * Sorts a validation definition into rules, configs and nested validators.\n * @param {Object<NormalizedValidator|Function>} validationsRaw\n * @return {{ rules: Object<NormalizedValidator>, nestedValidators: Object, config: GlobalConfig }}\n */\n\nfunction sortValidations() {\n  let validationsRaw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const validations = unref(validationsRaw);\n  const validationKeys = Object.keys(validations);\n  const rules = {};\n  const nestedValidators = {};\n  const config = {};\n  validationKeys.forEach(key => {\n    const v = validations[key];\n\n    switch (true) {\n      // If it is already normalized, use it\n      case isFunction(v.$validator):\n        rules[key] = v;\n        break;\n      // If it is just a function, normalize it first\n      // into { $validator: <Fun> }\n\n      case isFunction(v):\n        rules[key] = {\n          $validator: v\n        };\n        break;\n      // Catch $-prefixed properties as config\n\n      case key.startsWith('$'):\n        config[key] = v;\n        break;\n      // If it doesn’t match any of the above,\n      // treat as nestedValidators state property\n\n      default:\n        nestedValidators[key] = v;\n    }\n  });\n  return {\n    rules,\n    nestedValidators,\n    config\n  };\n}\n\nfunction _empty() {}\n\nconst ROOT_PATH = '__root';\n/** @typedef {import('vue-demi').ComponentPublicInstance} VueInstance */\n\n/** @typedef {import('vue-demi').ComputedRef} ComputedRef */\n\n/** @typedef {import('vue-demi').UnwrapRef} UnwrapRef */\n\n/** @typedef {import('vue-demi').WatchStopHandle} WatchStopHandle */\n\n/** @typedef {import('vue-demi').WritableComputedRef} WritableComputedRef */\n\n/** @typedef {import('vue-demi').UnwrapNestedRefs} UnwrapNestedRefs */\n\n/**\n * @typedef NormalizedValidator\n * @property {Validator} $validator\n * @property {String | Ref<String> | function(*): string} [$message]\n * @property {Object | Ref<Object>} [$params]\n * @property {Object | Ref<Object>} [$async]\n * @property {Ref<*>[]} [$watchTargets]\n */\n\n/**\n * Raw validator function, before being normalized\n * Can return a Promise or a {@see ValidatorResponse}\n * @typedef {function(*): ((Promise<ValidatorResponse> | ValidatorResponse))} Validator\n */\n\n/**\n * @typedef ErrorObject\n * @property {Ref<String>} $message - Reactive error message\n * @property {Ref<Object>} $params - Params passed from withParams\n * @property {Ref<Boolean>} $pending - If validation is pending\n * @property {String} $property - State key\n * @property {String} $propertyPath - Dot notation path to state\n * @property {String} $validator - Validator name\n * @property {String} $uid - Unique identifier\n */\n\n/**\n * @typedef ValidationResult\n * @property {Ref<Boolean>} $pending\n * @property {Ref<Boolean>} $dirty\n * @property {Ref<Boolean>} $invalid\n * @property {Ref<Boolean>} $error\n * @property {Ref<String>} $path\n * @property {Function} $touch\n * @property {Function} $reset\n * @property {ComputedRef<ErrorObject[]>} $errors\n * @property {ComputedRef<ErrorObject[]>} $silentErrors\n * @property {Function} $commit\n */\n\n/**\n * Creates the main Validation Results object for a state tree\n * Walks the tree's top level branches\n * @param {Object<NormalizedValidator>} rules - Rules for the current state tree\n * @param {Object} model - Current state value\n * @param {String} key - Key for the current state tree\n * @param {ResultsStorage} [resultsCache] - A cache map of all the validators\n * @param {String} [path] - the current property path\n * @param {GlobalConfig} [config] - the config object\n * @param {VueInstance} instance\n * @param {ComputedRef<Object>} externalResults\n * @param {Object} siblingState\n * @return {ValidationResult | {}}\n */\n\nfunction _call(body, then, direct) {\n  if (direct) {\n    return then ? then(body()) : body();\n  }\n\n  try {\n    var result = Promise.resolve(body());\n    return then ? result.then(then) : result;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n/**\n * Collects the validation results of all nested state properties\n * @param {Object<NormalizedValidator|Function>} validations - The validation\n * @param {Object} nestedState - Current state\n * @param {String} path - Path to current property\n * @param {ResultsStorage} resultsCache - Validations cache map\n * @param {GlobalConfig} config - The config object\n * @param {VueInstance} instance - The current Vue instance\n * @param {ComputedRef<object>} nestedExternalResults - The external results for this nested collection\n * @return {Object<string, VuelidateState>}\n */\n\n\nfunction _callIgnored(body, direct) {\n  return _call(body, _empty, direct);\n}\n\nfunction _invoke(body, then) {\n  var result = body();\n\n  if (result && result.then) {\n    return result.then(then);\n  }\n\n  return then(result);\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction createValidationResults(rules, model, key, resultsCache, path, config, instance, externalResults, siblingState) {\n  // collect the property keys\n  const ruleKeys = Object.keys(rules);\n  const cachedResult = resultsCache.get(path, rules);\n  const $dirty = ref(false); // state for the $rewardEarly option\n\n  /** The last invalid state of this property */\n\n  const $lastInvalidState = ref(false);\n  /** The last time $commit was called. Used to re-trigger async calls */\n\n  const $lastCommittedOn = ref(0);\n\n  if (cachedResult) {\n    // if the rules are the same as before, use the cached results\n    if (!cachedResult.$partial) return cachedResult; // remove old watchers\n\n    cachedResult.$unwatch(); // use the `$dirty.value`, so we dont save references by accident\n\n    $dirty.value = cachedResult.$dirty.value;\n  }\n\n  const result = {\n    // restore $dirty from cache\n    $dirty,\n    $path: path,\n    $touch: () => {\n      if (!$dirty.value) $dirty.value = true;\n    },\n    $reset: () => {\n      if ($dirty.value) $dirty.value = false;\n    },\n    $commit: () => {}\n  };\n  /**\n   * If there are no validation rules, it is most likely\n   * a top level state, aka root\n   */\n\n  if (!ruleKeys.length) {\n    // if there are cached results, we should overwrite them with the new ones\n    cachedResult && resultsCache.set(path, rules, result);\n    return result;\n  }\n\n  ruleKeys.forEach(ruleKey => {\n    result[ruleKey] = createValidatorResult(rules[ruleKey], model, result.$dirty, config, instance, ruleKey, key, path, siblingState, $lastInvalidState, $lastCommittedOn);\n  });\n  result.$externalResults = computed(() => {\n    if (!externalResults.value) return [];\n    return [].concat(externalResults.value).map((stringError, index) => ({\n      $propertyPath: path,\n      $property: key,\n      $validator: '$externalResults',\n      $uid: `${path}-externalResult-${index}`,\n      $message: stringError,\n      $params: {},\n      $response: null,\n      $pending: false\n    }));\n  });\n  result.$invalid = computed(() => {\n    const r = ruleKeys.some(ruleKey => unref(result[ruleKey].$invalid)); // cache the last invalid state\n\n    $lastInvalidState.value = r;\n    return !!result.$externalResults.value.length || r;\n  });\n  result.$pending = computed(() => ruleKeys.some(ruleKey => unref(result[ruleKey].$pending)));\n  result.$error = computed(() => result.$dirty.value ? result.$pending.value || result.$invalid.value : false);\n  result.$silentErrors = computed(() => ruleKeys.filter(ruleKey => unref(result[ruleKey].$invalid)).map(ruleKey => {\n    const res = result[ruleKey];\n    return reactive({\n      $propertyPath: path,\n      $property: key,\n      $validator: ruleKey,\n      $uid: `${path}-${ruleKey}`,\n      $message: res.$message,\n      $params: res.$params,\n      $response: res.$response,\n      $pending: res.$pending\n    });\n  }).concat(result.$externalResults.value));\n  result.$errors = computed(() => result.$dirty.value ? result.$silentErrors.value : []);\n\n  result.$unwatch = () => ruleKeys.forEach(ruleKey => {\n    result[ruleKey].$unwatch();\n  });\n\n  result.$commit = () => {\n    $lastInvalidState.value = true;\n    $lastCommittedOn.value = Date.now();\n  };\n\n  resultsCache.set(path, rules, result);\n  return result;\n}\n\nfunction collectNestedValidationResults(validations, nestedState, path, resultsCache, config, instance, nestedExternalResults) {\n  const nestedValidationKeys = Object.keys(validations); // if we have no state, return empty object\n\n  if (!nestedValidationKeys.length) return {};\n  return nestedValidationKeys.reduce((results, nestedKey) => {\n    // build validation results for nested state\n    results[nestedKey] = setValidations({\n      validations: validations[nestedKey],\n      state: nestedState,\n      key: nestedKey,\n      parentKey: path,\n      resultsCache,\n      globalConfig: config,\n      instance,\n      externalResults: nestedExternalResults\n    });\n    return results;\n  }, {});\n}\n/**\n * Generates the Meta fields from the results\n * @param {ValidationResult|{}} results\n * @param {Object.<string, VuelidateState>} nestedResults\n * @param {Object.<string, ValidationResult>} childResults\n * @return {{$anyDirty: Ref<Boolean>, $error: Ref<Boolean>, $invalid: Ref<Boolean>, $errors: Ref<ErrorObject[]>, $dirty: Ref<Boolean>, $touch: Function, $reset: Function }}\n */\n\n\nfunction createMetaFields(results, nestedResults, childResults) {\n  const allResults = computed(() => [nestedResults, childResults].filter(res => res).reduce((allRes, res) => {\n    return allRes.concat(Object.values(unref(res)));\n  }, [])); // returns `$dirty` as true, if all children are dirty\n\n  const $dirty = computed({\n    get() {\n      return results.$dirty.value || (allResults.value.length ? allResults.value.every(r => r.$dirty) : false);\n    },\n\n    set(v) {\n      results.$dirty.value = v;\n    }\n\n  });\n  const $silentErrors = computed(() => {\n    // current state level errors, fallback to empty array if root\n    const modelErrors = unref(results.$silentErrors) || []; // collect all nested and child $silentErrors\n\n    const nestedErrors = allResults.value.filter(result => (unref(result).$silentErrors || []).length).reduce((errors, result) => {\n      return errors.concat(...result.$silentErrors);\n    }, []); // merge the $silentErrors\n\n    return modelErrors.concat(nestedErrors);\n  });\n  const $errors = computed(() => {\n    // current state level errors, fallback to empty array if root\n    const modelErrors = unref(results.$errors) || []; // collect all nested and child $errors\n\n    const nestedErrors = allResults.value.filter(result => (unref(result).$errors || []).length).reduce((errors, result) => {\n      return errors.concat(...result.$errors);\n    }, []); // merge the $errors\n\n    return modelErrors.concat(nestedErrors);\n  });\n  const $invalid = computed(() => // if any of the nested values is invalid\n  allResults.value.some(r => r.$invalid) || // or if the current state is invalid\n  unref(results.$invalid) || // fallback to false if is root\n  false);\n  const $pending = computed(() => // if any of the nested values is pending\n  allResults.value.some(r => unref(r.$pending)) || // if any of the current state validators is pending\n  unref(results.$pending) || // fallback to false if is root\n  false);\n  const $anyDirty = computed(() => allResults.value.some(r => r.$dirty) || allResults.value.some(r => r.$anyDirty) || $dirty.value);\n  const $error = computed(() => $dirty.value ? $pending.value || $invalid.value : false);\n\n  const $touch = () => {\n    // call the root $touch\n    results.$touch(); // call all nested level $touch\n\n    allResults.value.forEach(result => {\n      result.$touch();\n    });\n  };\n\n  const $commit = () => {\n    // call the root $touch\n    results.$commit(); // call all nested level $touch\n\n    allResults.value.forEach(result => {\n      result.$commit();\n    });\n  };\n\n  const $reset = () => {\n    // reset the root $dirty state\n    results.$reset(); // reset all the children $dirty states\n\n    allResults.value.forEach(result => {\n      result.$reset();\n    });\n  }; // Ensure that if all child and nested results are $dirty, this also becomes $dirty\n\n\n  if (allResults.value.length && allResults.value.every(nr => nr.$dirty)) $touch();\n  return {\n    $dirty,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $error,\n    $pending,\n    $touch,\n    $reset,\n    $silentErrors,\n    $commit\n  };\n}\n/**\n * @typedef VuelidateState\n * @property {WritableComputedRef<any>} $model\n * @property {ComputedRef<Boolean>} $dirty\n * @property {ComputedRef<Boolean>} $error\n * @property {ComputedRef<ErrorObject[]>} $errors\n * @property {ComputedRef<Boolean>} $invalid\n * @property {ComputedRef<Boolean>} $anyDirty\n * @property {ComputedRef<Boolean>} $pending\n * @property {Function} $touch\n * @property {Function} $reset\n * @property {String} $path\n * @property {ComputedRef<ErrorObject[]>} $silentErrors\n * @property {Function} [$validate]\n * @property {Function} [$getResultsForChild]\n * @property {Object.<string, VuelidateState>}\n */\n\n/**\n * Main Vuelidate bootstrap function.\n * Used both for Composition API in `setup` and for Global App usage.\n * Used to collect validation state, when walking recursively down the state tree\n * @param {Object} params\n * @param {Object<NormalizedValidator|Function>} params.validations\n * @param {Object} params.state\n * @param {String} [params.key] - Current state property key. Used when being called on nested items\n * @param {String} [params.parentKey] - Parent state property key. Used when being called recursively\n * @param {Object<string, ValidationResult>} [params.childResults] - Used to collect child results.\n * @param {ResultsStorage} params.resultsCache - The cached validation results\n * @param {VueInstance} params.instance - The current Vue instance\n * @param {GlobalConfig} params.globalConfig - The validation config, passed to this setValidations instance.\n * @param {UnwrapNestedRefs<object> | Ref<Object>} params.externalResults - External validation results\n * @return {UnwrapNestedRefs<VuelidateState>}\n */\n\n\nfunction setValidations(_ref) {\n  /**\n   * Executes the validators and returns the result.\n   * @return {Promise<boolean>}\n   */\n  const $validate = _async(function () {\n    $touch();\n    return _invoke(function () {\n      if (mergedConfig.$rewardEarly) {\n        $commit(); // await the watchers\n\n        return _callIgnored(nextTick);\n      }\n    }, function () {\n      // await the watchers\n      return _call(nextTick, function () {\n        return new Promise(resolve => {\n          // return whether it is valid or not\n          if (!$pending.value) return resolve(!$invalid.value);\n          const unwatch = watch($pending, () => {\n            resolve(!$invalid.value);\n            unwatch();\n          });\n        });\n      });\n    });\n  });\n  /**\n   * Returns a child component's results, based on registration name\n   * @param {string} key\n   * @return {VuelidateState}\n   */\n\n\n  let {\n    validations,\n    state,\n    key,\n    parentKey,\n    childResults,\n    resultsCache,\n    globalConfig = {},\n    instance,\n    externalResults\n  } = _ref;\n  const path = parentKey ? `${parentKey}.${key}` : key; // Sort out the validation object into:\n  // – rules = validators for current state tree fragment\n  // — nestedValidators = nested state fragments keys that might contain more validators\n  // – config = configuration properties that affect this state fragment\n\n  const {\n    rules,\n    nestedValidators,\n    config\n  } = sortValidations(validations);\n  const mergedConfig = Object.assign({}, globalConfig, config); // create protected state for cases when the state branch does not exist yet.\n  // This protects when using the OptionsAPI as the data is bound after the setup method\n\n  const nestedState = key ? computed(() => {\n    const s = unref(state);\n    return s ? unref(s[key]) : undefined;\n  }) : state; // cache the external results, so we can revert back to them\n\n  const cachedExternalResults = Object.assign({}, unref(externalResults) || {});\n  const nestedExternalResults = computed(() => {\n    const results = unref(externalResults);\n    if (!key) return results;\n    return results ? unref(results[key]) : undefined;\n  }); // Use rules for the current state fragment and validate it\n\n  const results = createValidationResults(rules, nestedState, key, resultsCache, path, mergedConfig, instance, nestedExternalResults, state); // Use nested keys to repeat the process\n  // *WARN*: This is recursive\n\n  const nestedResults = collectNestedValidationResults(nestedValidators, nestedState, path, resultsCache, mergedConfig, instance, nestedExternalResults); // Collect and merge this level validation results\n  // with all nested validation results\n\n  const {\n    $dirty,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $error,\n    $pending,\n    $touch,\n    $reset,\n    $silentErrors,\n    $commit\n  } = createMetaFields(results, nestedResults, childResults);\n  /**\n   * If we have no `key`, this is the top level state\n   * We dont need `$model` there.\n   */\n\n  const $model = key ? computed({\n    get: () => unref(nestedState),\n    set: val => {\n      $dirty.value = true;\n      const s = unref(state);\n      const external = unref(externalResults);\n\n      if (external) {\n        external[key] = cachedExternalResults[key];\n      }\n\n      if (isRef(s[key])) {\n        s[key].value = val;\n      } else {\n        s[key] = val;\n      }\n    }\n  }) : null;\n\n  if (key && mergedConfig.$autoDirty) {\n    watch(nestedState, () => {\n      if (!$dirty.value) $touch();\n      const external = unref(externalResults);\n\n      if (external) {\n        external[key] = cachedExternalResults[key];\n      }\n    }, {\n      flush: 'sync'\n    });\n  }\n\n  function $getResultsForChild(key) {\n    return (childResults.value || {})[key];\n  }\n\n  function $clearExternalResults() {\n    if (isRef(externalResults)) {\n      externalResults.value = cachedExternalResults;\n    } else {\n      // if the external results state was empty, we need to delete every property, one by one\n      if (Object.keys(cachedExternalResults).length === 0) {\n        Object.keys(externalResults).forEach(k => {\n          delete externalResults[k];\n        });\n      } else {\n        // state was not empty, so we just assign it back into the current state\n        Object.assign(externalResults, cachedExternalResults);\n      }\n    }\n  }\n\n  return reactive(Object.assign({}, results, {\n    // NOTE: The order here is very important, since we want to override\n    // some of the *results* meta fields with the collective version of it\n    // that includes the results of nested state validation results\n    $model,\n    $dirty,\n    $error,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $pending,\n    $touch,\n    $reset,\n    $path: path || ROOT_PATH,\n    $silentErrors,\n    $validate,\n    $commit\n  }, childResults && {\n    $getResultsForChild,\n    $clearExternalResults\n  }, nestedResults));\n}\n\nclass ResultsStorage {\n  constructor() {\n    this.storage = new Map();\n  }\n  /**\n   * Stores a validation result, and its rules by its path\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @param {ValidationResult} result\n   */\n\n\n  set(path, rules, result) {\n    this.storage.set(path, {\n      rules,\n      result\n    });\n  }\n  /**\n   * Check if the stored `results` for the provided `path` have the same `rules` compared to 'storedRules'\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @param {Object<NormalizedValidator>} storedRules\n   * @return {Boolean}\n   */\n\n\n  checkRulesValidity(path, rules, storedRules) {\n    const storedRulesKeys = Object.keys(storedRules);\n    const newRulesKeys = Object.keys(rules);\n    if (newRulesKeys.length !== storedRulesKeys.length) return false;\n    const hasAllValidators = newRulesKeys.every(ruleKey => storedRulesKeys.includes(ruleKey));\n    if (!hasAllValidators) return false;\n    return newRulesKeys.every(ruleKey => {\n      if (!rules[ruleKey].$params) return true;\n      return Object.keys(rules[ruleKey].$params).every(paramKey => {\n        // make sure to unwrap before comparing\n        return unref(storedRules[ruleKey].$params[paramKey]) === unref(rules[ruleKey].$params[paramKey]);\n      });\n    });\n  }\n  /**\n   * Returns the matched result if catche is valid\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @return {{$partial: boolean, $dirty: Ref<Boolean>, $unwatch: function}|undefined|ValidationResult}\n   */\n\n\n  get(path, rules) {\n    const storedRuleResultPair = this.storage.get(path);\n    if (!storedRuleResultPair) return undefined;\n    const {\n      rules: storedRules,\n      result\n    } = storedRuleResultPair;\n    const isValidCache = this.checkRulesValidity(path, rules, storedRules);\n    const $unwatch = result.$unwatch ? result.$unwatch : () => ({});\n    if (!isValidCache) return {\n      $dirty: result.$dirty,\n      $partial: true,\n      $unwatch\n    };\n    return result;\n  }\n\n}\n\nconst CollectFlag = {\n  COLLECT_ALL: true,\n  COLLECT_NONE: false\n};\nconst VuelidateInjectChildResults = Symbol('vuelidate#injectChildResults');\nconst VuelidateRemoveChildResults = Symbol('vuelidate#removeChildResults');\n/**\n * Create helpers to collect validation state from child components\n * @param {Object} params\n * @param {String | Number | Boolean} params.$scope - Parent component scope\n * @return {{sendValidationResultsToParent: function[], childResults: ComputedRef<Object>, removeValidationResultsFromParent: function[]}}\n */\n\nfunction nestedValidations(_ref) {\n  let {\n    $scope,\n    instance\n  } = _ref;\n  const childResultsRaw = {};\n  const childResultsKeys = ref([]);\n  const childResults = computed(() => childResultsKeys.value.reduce((results, key) => {\n    results[key] = unref(childResultsRaw[key]);\n    return results;\n  }, {}));\n  /**\n   * Allows children to send validation data up to their parent.\n   * @param {Object} results - the results\n   * @param {Object} args\n   * @param {String} args.$registerAs - the $registeredAs key\n   * @param {String | Number | Boolean} args.$scope - the $scope key\n   */\n\n  function injectChildResultsIntoParent(results, _ref2) {\n    let {\n      $registerAs: key,\n      $scope: childScope,\n      $stopPropagation\n    } = _ref2;\n    if ($stopPropagation || $scope === CollectFlag.COLLECT_NONE || childScope === CollectFlag.COLLECT_NONE || $scope !== CollectFlag.COLLECT_ALL && $scope !== childScope) return;\n    childResultsRaw[key] = results;\n    childResultsKeys.value.push(key);\n  } // combine with other `injectChildResultsIntoParent` from vuelidate instances in this Vue component instance\n\n\n  instance.__vuelidateInjectInstances = [].concat(instance.__vuelidateInjectInstances || [], injectChildResultsIntoParent);\n  /**\n   * Allows children to remove the validation data from their parent, before getting destroyed.\n   * @param {String} key - the registeredAs key\n   */\n\n  function removeChildResultsFromParent(key) {\n    // remove the key\n    childResultsKeys.value = childResultsKeys.value.filter(childKey => childKey !== key); // remove the stored data for the key\n\n    delete childResultsRaw[key];\n  } // combine with other `removeChildResultsFromParent` from vuelidate instances in this Vue component instance\n\n\n  instance.__vuelidateRemoveInstances = [].concat(instance.__vuelidateRemoveInstances || [], removeChildResultsFromParent); // inject the `injectChildResultsIntoParent` method, into the current scope\n\n  const sendValidationResultsToParent = inject(VuelidateInjectChildResults, []); // provide to all of its children the send results to parent function\n\n  provide(VuelidateInjectChildResults, instance.__vuelidateInjectInstances);\n  const removeValidationResultsFromParent = inject(VuelidateRemoveChildResults, []); // provide to all of its children the remove results  function\n\n  provide(VuelidateRemoveChildResults, instance.__vuelidateRemoveInstances);\n  return {\n    childResults,\n    sendValidationResultsToParent,\n    removeValidationResultsFromParent\n  };\n}\n\n/**\n * Helper proxy for instance property access. It makes every reference\n * reactive for the validation function\n * @param target\n * @return {*|ComputedRef<*>}\n */\n\nfunction ComputedProxyFactory(target) {\n  return new Proxy(target, {\n    get(target, prop) {\n      return typeof target[prop] === 'object' ? ComputedProxyFactory(target[prop]) : computed(() => target[prop]);\n    }\n\n  });\n}\n\n/**\n * @typedef GlobalConfig\n * @property {String} [$registerAs] - Config Object\n * @property {String | Number | Symbol} [$scope] - A scope to limit child component registration\n * @property {Boolean} [$stopPropagation] - Tells a Vue component to stop sending its results up to the parent\n * @property {Ref<Object>} [$externalResults] - External error messages, like from server validation.\n * @property {Boolean} [$autoDirty] - Should the form watch for state changed, and automatically set `$dirty` to true.\n * @property {Boolean} [$lazy] - Should the validations be lazy, and run only after they are dirty\n * @property {Boolean} [$rewardEarly] - Once valid, re-runs property validators only on manual calls of $commit\n */\n\n/**\n * Composition API compatible Vuelidate\n * Use inside the `setup` lifecycle hook\n * @param {Object | GlobalConfig} [validations] - Validations Object or the globalConfig.\n * @param {Object} [state] - State object - required if `validations` is a validation object.\n * @param {GlobalConfig} [globalConfig] - Config Object\n * @return {ComputedRef<*>}\n */\n\nfunction useVuelidate(validations, state) {\n  let globalConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  // if we pass only one argument, its most probably the globalConfig.\n  // This use case is so parents can just collect results of child forms.\n  if (arguments.length === 1) {\n    globalConfig = validations;\n    validations = undefined;\n    state = undefined;\n  }\n\n  let {\n    $registerAs,\n    $scope = CollectFlag.COLLECT_ALL,\n    $stopPropagation,\n    $externalResults,\n    currentVueInstance\n  } = globalConfig;\n  const instance = currentVueInstance || getCurrentInstance();\n  const componentOptions = instance ? instance.proxy.$options : {}; // if there is no registration name, add one.\n\n  if (!$registerAs && instance) {\n    // NOTE:\n    // ._uid // Vue 2.x Composition-API plugin\n    // .uid // Vue 3.0\n    const uid = instance.uid || instance._uid;\n    $registerAs = `_vuelidate_${uid}`;\n  }\n\n  const validationResults = ref({});\n  const resultsCache = new ResultsStorage();\n  const {\n    childResults,\n    sendValidationResultsToParent,\n    removeValidationResultsFromParent\n  } = instance ? nestedValidations({\n    $scope,\n    instance\n  }) : {\n    childResults: ref({})\n  }; // Options API\n\n  if (!validations && componentOptions.validations) {\n    const rules = componentOptions.validations;\n    state = ref({});\n    onBeforeMount(() => {\n      // Delay binding state to validations defined with the Options API until mounting, when the data\n      // has been attached to the component instance. From that point on it will be reactive.\n      state.value = instance.proxy;\n      watch(() => isFunction(rules) ? rules.call(state.value, new ComputedProxyFactory(state.value)) : rules, validations => {\n        validationResults.value = setValidations({\n          validations,\n          state,\n          childResults,\n          resultsCache,\n          globalConfig,\n          instance: instance.proxy,\n          externalResults: $externalResults || instance.proxy.vuelidateExternalResults\n        });\n      }, {\n        immediate: true\n      });\n    });\n    globalConfig = componentOptions.validationsConfig || globalConfig;\n  } else {\n    const validationsWatchTarget = isRef(validations) || isProxy(validations) ? validations // wrap plain objects in a reactive, so we can track changes if they have computed in them.\n    : reactive(validations || {});\n    watch(validationsWatchTarget, newValidationRules => {\n      validationResults.value = setValidations({\n        validations: newValidationRules,\n        state,\n        childResults,\n        resultsCache,\n        globalConfig,\n        instance: instance ? instance.proxy : {},\n        externalResults: $externalResults\n      });\n    }, {\n      immediate: true\n    });\n  }\n\n  if (instance) {\n    // send all the data to the parent when the function is invoked inside setup.\n    sendValidationResultsToParent.forEach(f => f(validationResults, {\n      $registerAs,\n      $scope,\n      $stopPropagation\n    })); // before this component is destroyed, remove all the data from the parent.\n\n    onBeforeUnmount(() => removeValidationResultsFromParent.forEach(f => f($registerAs)));\n  }\n\n  return computed(() => {\n    return Object.assign({}, unref(validationResults.value), childResults.value);\n  });\n}\n\nexport { CollectFlag, useVuelidate as default, useVuelidate };\n","import { unref } from 'vue-demi';\n\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\nfunction isObject(o) {\n  return o !== null && typeof o === 'object' && !Array.isArray(o);\n}\n/**\n * Returns a standard ValidatorObject\n * Wraps a plain function into a ValidatorObject\n * @param {NormalizedValidator|Function} validator\n * @return {NormalizedValidator}\n */\n\nfunction normalizeValidatorObject(validator) {\n  return isFunction(validator.$validator) ? Object.assign({}, validator) : {\n    $validator: validator\n  };\n}\nfunction isPromise(object) {\n  return isObject(object) && isFunction(object.then);\n}\n/**\n * Unwraps a ValidatorResponse object, into a boolean.\n * @param {ValidatorResponse} result\n * @return {boolean}\n */\n\nfunction unwrapValidatorResponse(result) {\n  if (typeof result === 'object') return result.$valid;\n  return result;\n}\n/**\n * Unwraps a `NormalizedValidator` object, returning its validator function.\n * @param {NormalizedValidator | Function} validator\n * @return {function}\n */\n\nfunction unwrapNormalizedValidator(validator) {\n  return validator.$validator || validator;\n}\n\n/**\n * Allows attaching parameters to a validator\n * @param {Object} $params\n * @param {NormalizedValidator|Function} $validator\n * @return {NormalizedValidator}\n */\n\nfunction withParams($params, $validator) {\n  if (!isObject($params)) throw new Error(`[@vuelidate/validators]: First parameter to \"withParams\" should be an object, provided ${typeof $params}`);\n  if (!isObject($validator) && !isFunction($validator)) throw new Error(`[@vuelidate/validators]: Validator must be a function or object with $validator parameter`);\n  const validatorObj = normalizeValidatorObject($validator);\n  validatorObj.$params = Object.assign({}, validatorObj.$params || {}, $params);\n  return validatorObj;\n}\n\n/**\n * @callback MessageCallback\n * @param {Object} params\n * @return String\n */\n\n/**\n * Attaches a message to a validator\n * @param {MessageCallback | String} $message\n * @param {NormalizedValidator|Function} $validator\n * @return {NormalizedValidator}\n */\n\nfunction withMessage($message, $validator) {\n  if (!isFunction($message) && typeof unref($message) !== 'string') throw new Error(`[@vuelidate/validators]: First parameter to \"withMessage\" should be string or a function returning a string, provided ${typeof $message}`);\n  if (!isObject($validator) && !isFunction($validator)) throw new Error(`[@vuelidate/validators]: Validator must be a function or object with $validator parameter`);\n  const validatorObj = normalizeValidatorObject($validator);\n  validatorObj.$message = $message;\n  return validatorObj;\n}\n\n/**\n * @typedef {function(*): Promise<boolean|ValidatorResponse>} asyncValidator\n */\n\n/**\n * @typedef {Ref<*>[]|function(*): *} watchTargets\n */\n\n/**\n * Wraps validators that returns a Promise.\n * @param {asyncValidator} $validator\n * @param {watchTargets} $watchTargets\n * @return {{$async: boolean, $validator: asyncValidator, $watchTargets: watchTargets}}\n */\n\nfunction withAsync($validator) {\n  let $watchTargets = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const validatorObj = normalizeValidatorObject($validator);\n  return Object.assign({}, validatorObj, {\n    $async: true,\n    $watchTargets\n  });\n}\n\nfunction forEach(validators) {\n  return {\n    $validator(collection) {\n      for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        others[_key - 1] = arguments[_key];\n      }\n\n      // go over the collection. It can be a ref as well.\n      return unref(collection).reduce((previous, collectionItem) => {\n        // go over each property\n        const collectionEntryResult = Object.entries(collectionItem).reduce((all, _ref) => {\n          let [property, $model] = _ref;\n          // get the validators for this property\n          const innerValidators = validators[property] || {}; // go over each validator and run it\n\n          const propertyResult = Object.entries(innerValidators).reduce((all, _ref2) => {\n            let [validatorName, currentValidator] = _ref2;\n            // extract the validator. Supports simple and extended validators.\n            const validatorFunction = unwrapNormalizedValidator(currentValidator); // Call the validator, passing the VM as this, the value, current iterated object and the rest.\n\n            const $response = validatorFunction.call(this, $model, collectionItem, ...others); // extract the valid from the result\n\n            const $valid = unwrapValidatorResponse($response); // store the entire response for later\n\n            all.$data[validatorName] = $response;\n            all.$data.$invalid = !$valid || !!all.$data.$invalid;\n            all.$data.$error = all.$data.$invalid; // if not valid, get the $message\n\n            if (!$valid) {\n              let $message = currentValidator.$message || '';\n              const $params = currentValidator.$params || {}; // If $message is a function, we call it with the appropriate parameters\n\n              if (typeof $message === 'function') {\n                $message = $message({\n                  $pending: false,\n                  $invalid: !$valid,\n                  $params,\n                  $model,\n                  $response\n                });\n              } // save the error object\n\n\n              all.$errors.push({\n                $property: property,\n                $message,\n                $params,\n                $response,\n                $model,\n                $pending: false,\n                $validator: validatorName\n              });\n            }\n\n            return {\n              $valid: all.$valid && $valid,\n              $data: all.$data,\n              $errors: all.$errors\n            };\n          }, {\n            $valid: true,\n            $data: {},\n            $errors: []\n          });\n          all.$data[property] = propertyResult.$data;\n          all.$errors[property] = propertyResult.$errors;\n          return {\n            $valid: all.$valid && propertyResult.$valid,\n            $data: all.$data,\n            $errors: all.$errors\n          };\n        }, {\n          $valid: true,\n          $data: {},\n          $errors: {}\n        });\n        return {\n          $valid: previous.$valid && collectionEntryResult.$valid,\n          $data: previous.$data.concat(collectionEntryResult.$data),\n          $errors: previous.$errors.concat(collectionEntryResult.$errors)\n        };\n      }, {\n        $valid: true,\n        $data: [],\n        $errors: []\n      });\n    },\n\n    // collect all the validation errors into a 2 dimensional array, for each entry in the collection, you have an array of error messages.\n    $message: _ref3 => {\n      let {\n        $response\n      } = _ref3;\n      return $response ? $response.$errors.map(context => {\n        return Object.values(context).map(errors => errors.map(error => error.$message)).reduce((a, b) => a.concat(b), []);\n      }) : [];\n    }\n  };\n}\n\n// \"required\" core, used in almost every validator to allow empty values\nconst req = value => {\n  value = unref(value);\n  if (Array.isArray(value)) return !!value.length;\n\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  if (value === false) {\n    return true;\n  }\n\n  if (value instanceof Date) {\n    // invalid date won't pass\n    return !isNaN(value.getTime());\n  }\n\n  if (typeof value === 'object') {\n    for (let _ in value) return true;\n\n    return false;\n  }\n\n  return !!String(value).length;\n};\n/**\n * Returns the length of an arbitrary value\n * @param {Array|Object|String} value\n * @return {number}\n */\n\nconst len = value => {\n  value = unref(value);\n  if (Array.isArray(value)) return value.length;\n\n  if (typeof value === 'object') {\n    return Object.keys(value).length;\n  }\n\n  return String(value).length;\n};\n/**\n * Regex based validator template\n * @param {RegExp} expr\n * @return {function(*=): boolean}\n */\n\nfunction regex() {\n  for (var _len = arguments.length, expr = new Array(_len), _key = 0; _key < _len; _key++) {\n    expr[_key] = arguments[_key];\n  }\n\n  return value => {\n    value = unref(value);\n    return !req(value) || expr.every(reg => reg.test(value));\n  };\n}\n\nvar common = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  withParams: withParams,\n  withMessage: withMessage,\n  withAsync: withAsync,\n  forEach: forEach,\n  req: req,\n  len: len,\n  regex: regex,\n  unwrap: unref,\n  unwrapNormalizedValidator: unwrapNormalizedValidator,\n  unwrapValidatorResponse: unwrapValidatorResponse,\n  normalizeValidatorObject: normalizeValidatorObject\n});\n\nvar alpha$1 = regex(/^[a-zA-Z]*$/);\n\n/**\n * Validate if value is alphabetical string.\n * @type {NormalizedValidator}\n */\n\nvar alpha = {\n  $validator: alpha$1,\n  $message: 'The value is not alphabetical',\n  $params: {\n    type: 'alpha'\n  }\n};\n\nvar alphaNum$1 = regex(/^[a-zA-Z0-9]*$/);\n\n/**\n * Validate if value is alpha-numeric string.\n * @type {NormalizedValidator}\n */\n\nvar alphaNum = {\n  $validator: alphaNum$1,\n  $message: 'The value must be alpha-numeric',\n  $params: {\n    type: 'alphaNum'\n  }\n};\n\nvar numeric$1 = regex(/^\\d*(\\.\\d+)?$/);\n\n/**\n * Check whether a value is numeric.\n * @type NormalizedValidator\n */\n\nvar numeric = {\n  $validator: numeric$1,\n  $message: 'Value must be numeric',\n  $params: {\n    type: 'numeric'\n  }\n};\n\n/**\n * Check if a numeric value is between two values.\n * @param {Ref<Number> | Number} min\n * @param {Ref<Number> | Number} max\n * @return {function(*=): boolean}\n */\n\nfunction between$1 (min, max) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +unref(min) <= +value && +unref(max) >= +value;\n}\n\n/**\n * Checks if a value is between two values.\n * @param {Ref<Number> | Number} min\n * @param {Ref<Number> | Number} max\n * @return {NormalizedValidator}\n */\n\nfunction between (min, max) {\n  return {\n    $validator: between$1(min, max),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The value must be between ${$params.min} and ${$params.max}`;\n    },\n    $params: {\n      min,\n      max,\n      type: 'between'\n    }\n  };\n}\n\nconst emailRegex = /^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nvar email$1 = regex(emailRegex);\n\n/**\n * Validate if value is an email.\n * @type {NormalizedValidator}\n */\n\nvar email = {\n  $validator: email$1,\n  $message: 'Value is not a valid email address',\n  $params: {\n    type: 'email'\n  }\n};\n\n/**\n * Check if a string is an IP Address\n * @param {String} value\n * @returns {boolean}\n */\n\nfunction ipAddress$1 (value) {\n  if (!req(value)) {\n    return true;\n  }\n\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  const nibbles = value.split('.');\n  return nibbles.length === 4 && nibbles.every(nibbleValid);\n}\n\nconst nibbleValid = nibble => {\n  if (nibble.length > 3 || nibble.length === 0) {\n    return false;\n  }\n\n  if (nibble[0] === '0' && nibble !== '0') {\n    return false;\n  }\n\n  if (!nibble.match(/^\\d+$/)) {\n    return false;\n  }\n\n  const numeric = +nibble | 0;\n  return numeric >= 0 && numeric <= 255;\n};\n\n/**\n * Validate if value is an ipAddress string.\n * @type {NormalizedValidator}\n */\n\nvar ipAddress = {\n  $validator: ipAddress$1,\n  $message: 'The value is not a valid IP address',\n  $params: {\n    type: 'ipAddress'\n  }\n};\n\n/**\n * Check if value is a properly formatted Mac Address.\n * @param {String | Ref<String>} [separator]\n * @returns {function(*): boolean}\n */\n\nfunction macAddress$1 () {\n  let separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ':';\n  return value => {\n    separator = unref(separator);\n\n    if (!req(value)) {\n      return true;\n    }\n\n    if (typeof value !== 'string') {\n      return false;\n    }\n\n    const parts = typeof separator === 'string' && separator !== '' ? value.split(separator) : value.length === 12 || value.length === 16 ? value.match(/.{2}/g) : null;\n    return parts !== null && (parts.length === 6 || parts.length === 8) && parts.every(hexValid);\n  };\n}\n\nconst hexValid = hex => hex.toLowerCase().match(/^[0-9a-f]{2}$/);\n\n/**\n * Validate if value is a valid Mac Address string.\n * @returns {NormalizedValidator}\n */\n\nfunction macAddress (separator) {\n  return {\n    $validator: macAddress$1(separator),\n    $message: 'The value is not a valid MAC Address',\n    $params: {\n      type: 'macAddress'\n    }\n  };\n}\n\n/**\n * Check if provided value has a maximum length\n * @param {Number | Ref<Number>} length\n * @returns {function(Array|Object|String): boolean}\n */\n\nfunction maxLength$1 (length) {\n  return value => !req(value) || len(value) <= unref(length);\n}\n\n/**\n * Validate the max length of a string.\n * @param {Number} max\n * @return {NormalizedValidator}\n */\n\nfunction maxLength (max) {\n  return {\n    $validator: maxLength$1(max),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The maximum length allowed is ${$params.max}`;\n    },\n    $params: {\n      max,\n      type: 'maxLength'\n    }\n  };\n}\n\n/**\n * Check if value is above a threshold.\n * @param {Number | Ref<Number>} length\n * @returns {function(Array|Object|String): boolean}\n */\n\nfunction minLength$1 (length) {\n  return value => !req(value) || len(value) >= unref(length);\n}\n\n/**\n * Check if value is above a threshold.\n * @param {Number | Ref<Number>} min\n * @returns {NormalizedValidator}\n */\n\nfunction minLength (min) {\n  return {\n    $validator: minLength$1(min),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `This field should be at least ${$params.min} characters long`;\n    },\n    $params: {\n      min,\n      type: 'minLength'\n    }\n  };\n}\n\n/**\n * Validates if a value is empty.\n * @param {String | Array | Date | Object} value\n * @returns {boolean}\n */\n\nfunction required$1 (value) {\n  if (typeof value === 'string') {\n    value = value.trim();\n  }\n\n  return req(value);\n}\n\n/**\n * Check if a value is empty or not.\n * @type {NormalizedValidator}\n */\n\nvar required = {\n  $validator: required$1,\n  $message: 'Value is required',\n  $params: {\n    type: 'required'\n  }\n};\n\nconst validate$1 = (prop, val) => prop ? req(typeof val === 'string' ? val.trim() : val) : true;\n/**\n * Returns required if the passed property is truthy\n * @param {Boolean | String | function(any): Boolean | Ref<string | boolean>} propOrFunction\n * @return {function(value: *, parentVM: object): Boolean}\n */\n\n\nfunction requiredIf$1(propOrFunction) {\n  return function (value, parentVM) {\n    if (typeof propOrFunction !== 'function') {\n      return validate$1(unref(propOrFunction), value);\n    }\n\n    const result = propOrFunction.call(this, value, parentVM);\n    return validate$1(result, value);\n  };\n}\n\n/**\n * Returns required if the passed property is truthy\n * @param {Boolean | String | function(): (Boolean | Promise<boolean>)} prop\n * @return {NormalizedValidator}\n */\n\nfunction requiredIf (prop) {\n  return {\n    $validator: requiredIf$1(prop),\n    $message: 'The value is required',\n    $params: {\n      type: 'requiredIf',\n      prop\n    }\n  };\n}\n\nconst validate = (prop, val) => !prop ? req(typeof val === 'string' ? val.trim() : val) : true;\n/**\n * Returns required if the passed property is falsy.\n * @param {Boolean | String | function(any): Boolean | Ref<string | boolean>} propOrFunction\n * @return {function(value: *, parentVM: object): Boolean}\n */\n\n\nfunction requiredUnless$1(propOrFunction) {\n  return function (value, parentVM) {\n    if (typeof propOrFunction !== 'function') {\n      return validate(unref(propOrFunction), value);\n    }\n\n    const result = propOrFunction.call(this, value, parentVM);\n    return validate(result, value);\n  };\n}\n\n/**\n * Returns required unless the passed property is truthy\n * @param {Boolean | String | function(): (Boolean | Promise<boolean>)} prop\n * @return {NormalizedValidator}\n */\n\nfunction requiredUnless (prop) {\n  return {\n    $validator: requiredUnless$1(prop),\n    $message: 'The value is required',\n    $params: {\n      type: 'requiredUnless',\n      prop\n    }\n  };\n}\n\n/**\n * Check if two values are identical.\n * @param {*} equalTo\n * @return {function(*=): boolean}\n */\n\nfunction sameAs$1 (equalTo) {\n  return value => unref(value) === unref(equalTo);\n}\n\n/**\n * Check if two values are identical\n * @param {*} equalTo\n * @param {String} [otherName]\n * @return {NormalizedValidator}\n */\n\nfunction sameAs (equalTo) {\n  let otherName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'other';\n  return {\n    $validator: sameAs$1(equalTo),\n    $message: _ref => {\n      return `The value must be equal to the ${otherName} value`;\n    },\n    $params: {\n      equalTo,\n      otherName,\n      type: 'sameAs'\n    }\n  };\n}\n\n/**\n * Regex taken from {@link https://gist.github.com/dperini/729294}\n */\n\nconst urlRegex = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\nvar url$1 = regex(urlRegex);\n\n/**\n * Check if a value is a url\n * @type {NormalizedValidator}\n */\n\nvar url = {\n  $validator: url$1,\n  $message: 'The value is not a valid URL address',\n  $params: {\n    type: 'url'\n  }\n};\n\nfunction _await$1(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction syncOr(validators) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return validators.reduce((valid, fn) => {\n      if (unwrapValidatorResponse(valid)) return valid;\n      return unwrapNormalizedValidator(fn).apply(this, args);\n    }, false);\n  };\n}\n\nfunction asyncOr(validators) {\n  return function () {\n    const _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.reduce(function (valid, fn) {\n      return _await$1(valid, function (r) {\n        return unwrapValidatorResponse(r) ? r : unwrapNormalizedValidator(fn).apply(_this, args);\n      });\n    }, Promise.resolve(false));\n  };\n}\n/**\n * Returns true when one of the provided functions returns true.\n * @param {...(NormalizedValidator|Function)} validators\n * @return {{$validator: function(...[*]=): (boolean | Promise<boolean>), $async: boolean, $watchTargets: any[]}}\n */\n\n\nfunction or$1() {\n  for (var _len3 = arguments.length, validators = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    validators[_key3] = arguments[_key3];\n  }\n\n  const $async = validators.some(v => v.$async);\n  const $watchTargets = validators.reduce((all, v) => {\n    if (!v.$watchTargets) return all;\n    return all.concat(v.$watchTargets);\n  }, []);\n\n  let $validator = () => false;\n\n  if (validators.length) $validator = $async ? asyncOr(validators) : syncOr(validators);\n  return {\n    $async,\n    $validator,\n    $watchTargets\n  };\n}\n\n/**\n * Returns true when one of the provided functions returns true.\n * @param {...(NormalizedValidator|Function)} validators\n * @return {NormalizedValidator}\n */\n\nfunction or () {\n  return withParams({\n    type: 'or'\n  }, withMessage('The value does not match any of the provided validators', or$1(...arguments)));\n}\n\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n/**\n *\n * @param validators\n * @return {function(...[*]=): Promise<boolean>}\n */\n\n\nfunction syncAnd(validators) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return validators.reduce((valid, fn) => {\n      if (!unwrapValidatorResponse(valid)) return valid;\n      return unwrapNormalizedValidator(fn).apply(this, args);\n    }, true);\n  };\n}\n\nfunction asyncAnd(validators) {\n  return function () {\n    const _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.reduce(function (valid, fn) {\n      return _await(valid, function (r) {\n        return unwrapValidatorResponse(r) ? unwrapNormalizedValidator(fn).apply(_this, args) : r;\n      });\n    }, Promise.resolve(true));\n  };\n}\n/**\n * Returns true when all validators are truthy\n * @param {...(NormalizedValidator | Function)} validators\n * @return {{$validator: function(...[*]=): (boolean | Promise<boolean>), $async: boolean, $watchTargets: any[]}}\n */\n\n\nfunction and$1() {\n  for (var _len3 = arguments.length, validators = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    validators[_key3] = arguments[_key3];\n  }\n\n  const $async = validators.some(v => v.$async);\n  const $watchTargets = validators.reduce((all, v) => {\n    if (!v.$watchTargets) return all;\n    return all.concat(v.$watchTargets);\n  }, []);\n\n  let $validator = () => false;\n\n  if (validators.length) $validator = $async ? asyncAnd(validators) : syncAnd(validators);\n  return {\n    $async,\n    $validator,\n    $watchTargets\n  };\n}\n\n/**\n * Validate if all validators match.\n * @param {...*} validators\n * @returns {NormalizedValidator}\n */\n\nfunction and () {\n  return withParams({\n    type: 'and'\n  }, withMessage('The value does not match all of the provided validators', and$1(...arguments)));\n}\n\n/**\n * Swaps the result of a value\n * @param {NormalizedValidator|Function} validator\n * @returns {function(*=, *=): boolean}\n */\n\nfunction not$1 (validator) {\n  return function (value, vm) {\n    if (!req(value)) return true;\n    const response = unwrapNormalizedValidator(validator).call(this, value, vm);\n    if (!isPromise(response)) return !unwrapValidatorResponse(response);\n    return response.then(r => !unwrapValidatorResponse(r));\n  };\n}\n\n/**\n * Swaps the result of a value\n * @param {NormalizedValidator|Function} validator\n * @returns {NormalizedValidator}\n */\n\nfunction not (validator) {\n  return {\n    $validator: not$1(validator),\n    $message: `The value does not match the provided validator`,\n    $params: {\n      type: 'not'\n    }\n  };\n}\n\n/**\n * Check if a value is above a threshold.\n * @param {String | Number | Ref<Number> | Ref<String>} min\n * @returns {function(*=): boolean}\n */\n\nfunction minValue$1 (min) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +value >= +unref(min);\n}\n\n/**\n * Check if a value is above a threshold.\n * @param {String | Number | Ref<Number> | Ref<String>} min\n * @returns {NormalizedValidator}\n */\n\nfunction minValue (min) {\n  return {\n    $validator: minValue$1(min),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The minimum value allowed is ${$params.min}`;\n    },\n    $params: {\n      min,\n      type: 'minValue'\n    }\n  };\n}\n\n/**\n * Check if value is below a threshold.\n * @param {Number | Ref<Number> | Ref<String>} max\n * @returns {function(*=): boolean}\n */\n\nfunction maxValue$1 (max) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +value <= +unref(max);\n}\n\n/**\n * Check if value is below a threshold.\n * @param {Number | Ref<Number> | Ref<String>} max\n * @return {NormalizedValidator}\n */\n\nvar maxValue = (max => ({\n  $validator: maxValue$1(max),\n  $message: _ref => {\n    let {\n      $params\n    } = _ref;\n    return `The maximum value allowed is ${$params.max}`;\n  },\n  $params: {\n    max,\n    type: 'maxValue'\n  }\n}));\n\n// ^-[0-9]+$ - only for negative integer (minus sign without at least 1 digit is not a number)\n\nvar integer$1 = regex(/(^[0-9]*$)|(^-[0-9]+$)/);\n\n/**\n * Validate if value is integer.\n * @type {NormalizedValidator}\n */\n\nvar integer = {\n  $validator: integer$1,\n  $message: 'Value is not an integer',\n  $params: {\n    type: 'integer'\n  }\n};\n\nvar decimal$1 = regex(/^[-]?\\d*(\\.\\d+)?$/);\n\n/**\n * Validate if value is decimal number.\n * @type {NormalizedValidator}\n */\n\nvar decimal = {\n  $validator: decimal$1,\n  $message: 'Value must be decimal',\n  $params: {\n    type: 'decimal'\n  }\n};\n\n/**\n * Creates a translatable version of `withMessage` helper.\n * @param {function} t - the translation function of your choice\n * @param {function} [messagePath] - a function to generate the message path, passed to `t` for each message. By default it is `validations.${$validator}`\n * @param {function} [messageParams] - a function to augment the params, passed to `t` for each message.\n */\n\nfunction createI18nMessage(_ref) {\n  let {\n    t,\n    messagePath = _ref2 => {\n      let {\n        $validator\n      } = _ref2;\n      return `validations.${$validator}`;\n    },\n    messageParams = params => params\n  } = _ref;\n  return function withI18nMessage(validator) {\n    let {\n      withArguments = false,\n      messagePath: localMessagePath = messagePath,\n      messageParams: localMessageParams = messageParams\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    function message(props) {\n      return t(localMessagePath(props), localMessageParams(Object.assign({\n        model: props.$model,\n        property: props.$property,\n        pending: props.$pending,\n        invalid: props.$invalid,\n        response: props.$response,\n        validator: props.$validator,\n        propertyPath: props.$propertyPath\n      }, props.$params)));\n    }\n\n    if (withArguments && typeof validator === 'function') {\n      return function () {\n        return withMessage(message, validator(...arguments));\n      };\n    }\n\n    return withMessage(message, validator);\n  };\n}\n\nexport { alpha, alphaNum, and, between, createI18nMessage, decimal, email, common as helpers, integer, ipAddress, macAddress, maxLength, maxValue, minLength, minValue, not, numeric, or, required, requiredIf, requiredUnless, sameAs, url };\n","/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.14.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\n       * Selects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be selected\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\n       * Deselects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be deselected\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","function removeNode(node) {\r\n  if (node.parentElement !== null) {\r\n    node.parentElement.removeChild(node);\r\n  }\r\n}\r\n\r\nfunction insertNodeAt(fatherNode, node, position) {\r\n  const refNode =\r\n    position === 0\r\n      ? fatherNode.children[0]\r\n      : fatherNode.children[position - 1].nextSibling;\r\n  fatherNode.insertBefore(node, refNode);\r\n}\r\n\r\nexport { insertNodeAt, removeNode };\r\n","function getConsole() {\r\n  if (typeof window !== \"undefined\") {\r\n    return window.console;\r\n  }\r\n  return global.console;\r\n}\r\nconst console = getConsole();\r\n\r\nexport { console };\r\n","function cached(fn) {\r\n  const cache = Object.create(null);\r\n  return function cachedFn(str) {\r\n    const hit = cache[str];\r\n    return hit || (cache[str] = fn(str));\r\n  };\r\n}\r\n\r\nconst regex = /-(\\w)/g;\r\nconst camelize = cached(str => str.replace(regex, (_, c) => c.toUpperCase()));\r\n\r\nexport { camelize };\r\n","const manageAndEmit = [\"Start\", \"Add\", \"Remove\", \"Update\", \"End\"];\r\nconst emit = [\"Choose\", \"Unchoose\", \"Sort\", \"Filter\", \"Clone\"];\r\nconst manage = [\"Move\"];\r\nconst eventHandlerNames = [manage, manageAndEmit, emit]\r\n  .flatMap(events => events)\r\n  .map(evt => `on${evt}`);\r\n\r\nconst events = {\r\n  manage,\r\n  manageAndEmit,\r\n  emit\r\n};\r\n\r\nfunction isReadOnly(eventName) {\r\n  return eventHandlerNames.indexOf(eventName) !== -1;\r\n}\r\n\r\nexport { events, isReadOnly };\r\n","const tags = [\r\n  \"a\",\r\n  \"abbr\",\r\n  \"address\",\r\n  \"area\",\r\n  \"article\",\r\n  \"aside\",\r\n  \"audio\",\r\n  \"b\",\r\n  \"base\",\r\n  \"bdi\",\r\n  \"bdo\",\r\n  \"blockquote\",\r\n  \"body\",\r\n  \"br\",\r\n  \"button\",\r\n  \"canvas\",\r\n  \"caption\",\r\n  \"cite\",\r\n  \"code\",\r\n  \"col\",\r\n  \"colgroup\",\r\n  \"data\",\r\n  \"datalist\",\r\n  \"dd\",\r\n  \"del\",\r\n  \"details\",\r\n  \"dfn\",\r\n  \"dialog\",\r\n  \"div\",\r\n  \"dl\",\r\n  \"dt\",\r\n  \"em\",\r\n  \"embed\",\r\n  \"fieldset\",\r\n  \"figcaption\",\r\n  \"figure\",\r\n  \"footer\",\r\n  \"form\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"head\",\r\n  \"header\",\r\n  \"hgroup\",\r\n  \"hr\",\r\n  \"html\",\r\n  \"i\",\r\n  \"iframe\",\r\n  \"img\",\r\n  \"input\",\r\n  \"ins\",\r\n  \"kbd\",\r\n  \"label\",\r\n  \"legend\",\r\n  \"li\",\r\n  \"link\",\r\n  \"main\",\r\n  \"map\",\r\n  \"mark\",\r\n  \"math\",\r\n  \"menu\",\r\n  \"menuitem\",\r\n  \"meta\",\r\n  \"meter\",\r\n  \"nav\",\r\n  \"noscript\",\r\n  \"object\",\r\n  \"ol\",\r\n  \"optgroup\",\r\n  \"option\",\r\n  \"output\",\r\n  \"p\",\r\n  \"param\",\r\n  \"picture\",\r\n  \"pre\",\r\n  \"progress\",\r\n  \"q\",\r\n  \"rb\",\r\n  \"rp\",\r\n  \"rt\",\r\n  \"rtc\",\r\n  \"ruby\",\r\n  \"s\",\r\n  \"samp\",\r\n  \"script\",\r\n  \"section\",\r\n  \"select\",\r\n  \"slot\",\r\n  \"small\",\r\n  \"source\",\r\n  \"span\",\r\n  \"strong\",\r\n  \"style\",\r\n  \"sub\",\r\n  \"summary\",\r\n  \"sup\",\r\n  \"svg\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"td\",\r\n  \"template\",\r\n  \"textarea\",\r\n  \"tfoot\",\r\n  \"th\",\r\n  \"thead\",\r\n  \"time\",\r\n  \"title\",\r\n  \"tr\",\r\n  \"track\",\r\n  \"u\",\r\n  \"ul\",\r\n  \"var\",\r\n  \"video\",\r\n  \"wbr\"\r\n];\r\n\r\nfunction isHtmlTag(name) {\r\n  return tags.includes(name);\r\n}\r\n\r\nfunction isTransition(name) {\r\n  return [\"transition-group\", \"TransitionGroup\"].includes(name);\r\n}\r\n\r\nfunction isHtmlAttribute(value) {\r\n  return (\r\n    [\"id\", \"class\", \"role\", \"style\"].includes(value) ||\r\n    value.startsWith(\"data-\") ||\r\n    value.startsWith(\"aria-\") ||\r\n    value.startsWith(\"on\")\r\n  );\r\n}\r\n\r\nexport { isHtmlTag, isHtmlAttribute, isTransition };\r\n","import { camelize } from \"../util/string\";\r\nimport { events, isReadOnly } from \"./sortableEvents\";\r\nimport { isHtmlAttribute } from \"../util/tags\";\r\n\r\nfunction project(entries) {\r\n  return entries.reduce((res, [key, value]) => {\r\n    res[key] = value;\r\n    return res;\r\n  }, {});\r\n}\r\n\r\nfunction getComponentAttributes({ $attrs, componentData = {} }) {\r\n  const attributes = project(\r\n    Object.entries($attrs).filter(([key, _]) => isHtmlAttribute(key))\r\n  );\r\n  return {\r\n    ...attributes,\r\n    ...componentData\r\n  };\r\n}\r\n\r\nfunction createSortableOption({ $attrs, callBackBuilder }) {\r\n  const options = project(getValidSortableEntries($attrs));\r\n  Object.entries(callBackBuilder).forEach(([eventType, eventBuilder]) => {\r\n    events[eventType].forEach(event => {\r\n      options[`on${event}`] = eventBuilder(event);\r\n    });\r\n  });\r\n  const draggable = `[data-draggable]${options.draggable || \"\"}`;\r\n  return {\r\n    ...options,\r\n    draggable\r\n  };\r\n}\r\n\r\nfunction getValidSortableEntries(value) {\r\n  return Object.entries(value)\r\n    .filter(([key, _]) => !isHtmlAttribute(key))\r\n    .map(([key, value]) => [camelize(key), value])\r\n    .filter(([key, _]) => !isReadOnly(key));\r\n}\r\n\r\nexport {\r\n  getComponentAttributes,\r\n  createSortableOption,\r\n  getValidSortableEntries\r\n};\r\n","const getHtmlElementFromNode = ({ el }) => el;\r\nconst addContext = (domElement, context) =>\r\n  (domElement.__draggable_context = context);\r\nconst getContext = domElement => domElement.__draggable_context;\r\n\r\nclass ComponentStructure {\r\n  constructor({\r\n    nodes: { header, default: defaultNodes, footer },\r\n    root,\r\n    realList\r\n  }) {\r\n    this.defaultNodes = defaultNodes;\r\n    this.children = [...header, ...defaultNodes, ...footer];\r\n    this.externalComponent = root.externalComponent;\r\n    this.rootTransition = root.transition;\r\n    this.tag = root.tag;\r\n    this.realList = realList;\r\n  }\r\n\r\n  get _isRootComponent() {\r\n    return this.externalComponent || this.rootTransition;\r\n  }\r\n\r\n  render(h, attributes) {\r\n    const { tag, children, _isRootComponent } = this;\r\n    const option = !_isRootComponent ? children : { default: () => children };\r\n    return h(tag, attributes, option);\r\n  }\r\n\r\n  updated() {\r\n    const { defaultNodes, realList } = this;\r\n    defaultNodes.forEach((node, index) => {\r\n      addContext(getHtmlElementFromNode(node), {\r\n        element: realList[index],\r\n        index\r\n      });\r\n    });\r\n  }\r\n\r\n  getUnderlyingVm(domElement) {\r\n    return getContext(domElement);\r\n  }\r\n\r\n  getVmIndexFromDomIndex(domIndex, element) {\r\n    const { defaultNodes } = this;\r\n    const { length } = defaultNodes;\r\n    const domChildren = element.children;\r\n    const domElement = domChildren.item(domIndex);\r\n\r\n    if (domElement === null) {\r\n      return length;\r\n    }\r\n    const context = getContext(domElement);\r\n    if (context) {\r\n      return context.index;\r\n    }\r\n\r\n    if (length === 0) {\r\n      return 0;\r\n    }\r\n    const firstDomListElement = getHtmlElementFromNode(defaultNodes[0]);\r\n    const indexFirstDomListElement = [...domChildren].findIndex(\r\n      element => element === firstDomListElement\r\n    );\r\n    return domIndex < indexFirstDomListElement ? 0 : length;\r\n  }\r\n}\r\n\r\nexport { ComponentStructure };\r\n","import { ComponentStructure } from \"./componentStructure\";\r\nimport { isHtmlTag, isTransition } from \"../util/tags\";\r\nimport { resolveComponent, TransitionGroup } from \"vue\";\r\n\r\nfunction getSlot(slots, key) {\r\n  const slotValue = slots[key];\r\n  return slotValue ? slotValue() : [];\r\n}\r\n\r\nfunction computeNodes({ $slots, realList, getKey }) {\r\n  const normalizedList = realList || [];\r\n  const [header, footer] = [\"header\", \"footer\"].map(name =>\r\n    getSlot($slots, name)\r\n  );\r\n  const { item } = $slots;\r\n  if (!item) {\r\n    throw new Error(\"draggable element must have an item slot\");\r\n  }\r\n  const defaultNodes = normalizedList.flatMap((element, index) =>\r\n    item({ element, index }).map(node => {\r\n      node.key = getKey(element);\r\n      node.props = { ...(node.props || {}), \"data-draggable\": true };\r\n      return node;\r\n    })\r\n  );\r\n  if (defaultNodes.length !== normalizedList.length) {\r\n    throw new Error(\"Item slot must have only one child\");\r\n  }\r\n  return {\r\n    header,\r\n    footer,\r\n    default: defaultNodes\r\n  };\r\n}\r\n\r\nfunction getRootInformation(tag) {\r\n  const transition = isTransition(tag);\r\n  const externalComponent = !isHtmlTag(tag) && !transition;\r\n  return {\r\n    transition,\r\n    externalComponent,\r\n    tag: externalComponent\r\n      ? resolveComponent(tag)\r\n      : transition\r\n      ? TransitionGroup\r\n      : tag\r\n  };\r\n}\r\n\r\nfunction computeComponentStructure({ $slots, tag, realList, getKey }) {\r\n  const nodes = computeNodes({ $slots, realList, getKey });\r\n  const root = getRootInformation(tag);\r\n  return new ComponentStructure({ nodes, root, realList });\r\n}\r\n\r\nexport { computeComponentStructure };\r\n","import Sortable from \"sortablejs\";\r\nimport { insertNodeAt, removeNode } from \"./util/htmlHelper\";\r\nimport { console } from \"./util/console\";\r\nimport {\r\n  getComponentAttributes,\r\n  createSortableOption,\r\n  getValidSortableEntries\r\n} from \"./core/componentBuilderHelper\";\r\nimport { computeComponentStructure } from \"./core/renderHelper\";\r\nimport { events } from \"./core/sortableEvents\";\r\nimport { h, defineComponent, nextTick } from \"vue\";\r\n\r\nfunction emit(evtName, evtData) {\r\n  nextTick(() => this.$emit(evtName.toLowerCase(), evtData));\r\n}\r\n\r\nfunction manage(evtName) {\r\n  return (evtData, originalElement) => {\r\n    if (this.realList !== null) {\r\n      return this[`onDrag${evtName}`](evtData, originalElement);\r\n    }\r\n  };\r\n}\r\n\r\nfunction manageAndEmit(evtName) {\r\n  const delegateCallBack = manage.call(this, evtName);\r\n  return (evtData, originalElement) => {\r\n    delegateCallBack.call(this, evtData, originalElement);\r\n    emit.call(this, evtName, evtData);\r\n  };\r\n}\r\n\r\nlet draggingElement = null;\r\n\r\nconst props = {\r\n  list: {\r\n    type: Array,\r\n    required: false,\r\n    default: null\r\n  },\r\n  modelValue: {\r\n    type: Array,\r\n    required: false,\r\n    default: null\r\n  },\r\n  itemKey: {\r\n    type: [String, Function],\r\n    required: true\r\n  },\r\n  clone: {\r\n    type: Function,\r\n    default: original => {\r\n      return original;\r\n    }\r\n  },\r\n  tag: {\r\n    type: String,\r\n    default: \"div\"\r\n  },\r\n  move: {\r\n    type: Function,\r\n    default: null\r\n  },\r\n  componentData: {\r\n    type: Object,\r\n    required: false,\r\n    default: null\r\n  }\r\n};\r\n\r\nconst emits = [\r\n  \"update:modelValue\",\r\n  \"change\",\r\n  ...[...events.manageAndEmit, ...events.emit].map(evt => evt.toLowerCase())\r\n];\r\n\r\nconst draggableComponent = defineComponent({\r\n  name: \"draggable\",\r\n\r\n  inheritAttrs: false,\r\n\r\n  props,\r\n\r\n  emits,\r\n\r\n  data() {\r\n    return {\r\n      error: false\r\n    };\r\n  },\r\n\r\n  render() {\r\n    try {\r\n      this.error = false;\r\n      const { $slots, $attrs, tag, componentData, realList, getKey } = this;\r\n      const componentStructure = computeComponentStructure({\r\n        $slots,\r\n        tag,\r\n        realList,\r\n        getKey\r\n      });\r\n      this.componentStructure = componentStructure;\r\n      const attributes = getComponentAttributes({ $attrs, componentData });\r\n      return componentStructure.render(h, attributes);\r\n    } catch (err) {\r\n      this.error = true;\r\n      return h(\"pre\", { style: { color: \"red\" } }, err.stack);\r\n    }\r\n  },\r\n\r\n  created() {\r\n    if (this.list !== null && this.modelValue !== null) {\r\n      console.error(\r\n        \"modelValue and list props are mutually exclusive! Please set one or another.\"\r\n      );\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (this.error) {\r\n      return;\r\n    }\r\n\r\n    const { $attrs, $el, componentStructure } = this;\r\n    componentStructure.updated();\r\n\r\n    const sortableOptions = createSortableOption({\r\n      $attrs,\r\n      callBackBuilder: {\r\n        manageAndEmit: event => manageAndEmit.call(this, event),\r\n        emit: event => emit.bind(this, event),\r\n        manage: event => manage.call(this, event)\r\n      }\r\n    });\r\n    const targetDomElement = $el.nodeType === 1 ? $el : $el.parentElement;\r\n    this._sortable = new Sortable(targetDomElement, sortableOptions);\r\n    this.targetDomElement = targetDomElement;\r\n    targetDomElement.__draggable_component__ = this;\r\n  },\r\n\r\n  updated() {\r\n    this.componentStructure.updated();\r\n  },\r\n\r\n  beforeUnmount() {\r\n    if (this._sortable !== undefined) this._sortable.destroy();\r\n  },\r\n\r\n  computed: {\r\n    realList() {\r\n      const { list } = this;\r\n      return list ? list : this.modelValue;\r\n    },\r\n\r\n    getKey() {\r\n      const { itemKey } = this;\r\n      if (typeof itemKey === \"function\") {\r\n        return itemKey;\r\n      }\r\n      return element => element[itemKey];\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    $attrs: {\r\n      handler(newOptionValue) {\r\n        const { _sortable } = this;\r\n        if (!_sortable) return;\r\n        getValidSortableEntries(newOptionValue).forEach(([key, value]) => {\r\n          _sortable.option(key, value);\r\n        });\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getUnderlyingVm(domElement) {\r\n      return this.componentStructure.getUnderlyingVm(domElement) || null;\r\n    },\r\n\r\n    getUnderlyingPotencialDraggableComponent(htmElement) {\r\n      //TODO check case where you need to see component children\r\n      return htmElement.__draggable_component__;\r\n    },\r\n\r\n    emitChanges(evt) {\r\n      nextTick(() => this.$emit(\"change\", evt));\r\n    },\r\n\r\n    alterList(onList) {\r\n      if (this.list) {\r\n        onList(this.list);\r\n        return;\r\n      }\r\n      const newList = [...this.modelValue];\r\n      onList(newList);\r\n      this.$emit(\"update:modelValue\", newList);\r\n    },\r\n\r\n    spliceList() {\r\n      const spliceList = list => list.splice(...arguments);\r\n      this.alterList(spliceList);\r\n    },\r\n\r\n    updatePosition(oldIndex, newIndex) {\r\n      const updatePosition = list =>\r\n        list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]);\r\n      this.alterList(updatePosition);\r\n    },\r\n\r\n    getRelatedContextFromMoveEvent({ to, related }) {\r\n      const component = this.getUnderlyingPotencialDraggableComponent(to);\r\n      if (!component) {\r\n        return { component };\r\n      }\r\n      const list = component.realList;\r\n      const context = { list, component };\r\n      if (to !== related && list) {\r\n        const destination = component.getUnderlyingVm(related) || {};\r\n        return { ...destination, ...context };\r\n      }\r\n      return context;\r\n    },\r\n\r\n    getVmIndexFromDomIndex(domIndex) {\r\n      return this.componentStructure.getVmIndexFromDomIndex(\r\n        domIndex,\r\n        this.targetDomElement\r\n      );\r\n    },\r\n\r\n    onDragStart(evt) {\r\n      this.context = this.getUnderlyingVm(evt.item);\r\n      evt.item._underlying_vm_ = this.clone(this.context.element);\r\n      draggingElement = evt.item;\r\n    },\r\n\r\n    onDragAdd(evt) {\r\n      const element = evt.item._underlying_vm_;\r\n      if (element === undefined) {\r\n        return;\r\n      }\r\n      removeNode(evt.item);\r\n      const newIndex = this.getVmIndexFromDomIndex(evt.newIndex);\r\n      this.spliceList(newIndex, 0, element);\r\n      const added = { element, newIndex };\r\n      this.emitChanges({ added });\r\n    },\r\n\r\n    onDragRemove(evt) {\r\n      insertNodeAt(this.$el, evt.item, evt.oldIndex);\r\n      if (evt.pullMode === \"clone\") {\r\n        removeNode(evt.clone);\r\n        return;\r\n      }\r\n      const { index: oldIndex, element } = this.context;\r\n      this.spliceList(oldIndex, 1);\r\n      const removed = { element, oldIndex };\r\n      this.emitChanges({ removed });\r\n    },\r\n\r\n    onDragUpdate(evt) {\r\n      removeNode(evt.item);\r\n      insertNodeAt(evt.from, evt.item, evt.oldIndex);\r\n      const oldIndex = this.context.index;\r\n      const newIndex = this.getVmIndexFromDomIndex(evt.newIndex);\r\n      this.updatePosition(oldIndex, newIndex);\r\n      const moved = { element: this.context.element, oldIndex, newIndex };\r\n      this.emitChanges({ moved });\r\n    },\r\n\r\n    computeFutureIndex(relatedContext, evt) {\r\n      if (!relatedContext.element) {\r\n        return 0;\r\n      }\r\n      const domChildren = [...evt.to.children].filter(\r\n        el => el.style[\"display\"] !== \"none\"\r\n      );\r\n      const currentDomIndex = domChildren.indexOf(evt.related);\r\n      const currentIndex = relatedContext.component.getVmIndexFromDomIndex(\r\n        currentDomIndex\r\n      );\r\n      const draggedInList = domChildren.indexOf(draggingElement) !== -1;\r\n      return draggedInList || !evt.willInsertAfter\r\n        ? currentIndex\r\n        : currentIndex + 1;\r\n    },\r\n\r\n    onDragMove(evt, originalEvent) {\r\n      const { move, realList } = this;\r\n      if (!move || !realList) {\r\n        return true;\r\n      }\r\n\r\n      const relatedContext = this.getRelatedContextFromMoveEvent(evt);\r\n      const futureIndex = this.computeFutureIndex(relatedContext, evt);\r\n      const draggedContext = {\r\n        ...this.context,\r\n        futureIndex\r\n      };\r\n      const sendEvent = {\r\n        ...evt,\r\n        relatedContext,\r\n        draggedContext\r\n      };\r\n      return move(sendEvent, originalEvent);\r\n    },\r\n\r\n    onDragEnd() {\r\n      draggingElement = null;\r\n    }\r\n  }\r\n});\r\n\r\nexport default draggableComponent;\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".table thead th,table tr>td,table tr>th{vertical-align:middle}.table thead th{background:gray;border:1px solid #fff;padding:3px;text-align:center}.table td{cursor:move}.table td,.table th{padding:3px;vertical-align:middle}.table td input,.table th input{padding:3px}.calculator{color:#000}table.table-striped{border:3px solid gray}table.table-striped tr.calculator{background-color:#fff;border-bottom:1 solid #000;border-top:1 solid #000}table{border-collapse:collapse;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/app/pages/Invoice-Edit.vue\"],\"names\":[],\"mappings\":\"AA6iBE,wCAHE,qBASF,CANA,gBAGE,eAAgB,CACA,qBAAuB,CAFvC,WAAW,CAGK,iBAClB,CAEA,UACE,WACF,CAEA,oBAEE,WAAY,CADZ,qBAEF,CAEA,gCACE,WACF,CAEA,YACE,UACF,CAEA,oBAIE,qBACF,CAEA,kCACE,qBAAsB,CAItB,0BAA0B,CAI1B,uBACF,CAEC,MACiB,wBAAyB,CACzB,UACF\",\"sourcesContent\":[\"<template>\\r\\n\\r\\n\\t <div class=\\\"container-fluid\\\">\\r\\n\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-12\\\">\\r\\n            \\r\\n\\r\\n\\r\\n            <!-- Main content -->\\r\\n            <div class=\\\"invoice p-3 mb-3\\\">\\r\\n               <div style=\\\"\\\">\\r\\n                                        <div class=\\\"form-group row\\\">\\r\\n                      <label for=\\\"staticEmail\\\" class=\\\"col-sm-3 col-form-label\\\"><b>დასახელება :</b></label>\\r\\n                      <div class=\\\"col-sm-9\\\">\\r\\n                       <input class=\\\"form-control\\\" type=\\\"text\\\" v-model=\\\"v$.model.$model.title\\\">\\r\\n                      </div>\\r\\n                    </div> \\r\\n                      \\r\\n                    </div>\\r\\n                    <hr>\\r\\n\\r\\n              <p class=\\\"lead\\\">მყიდველი</p>\\r\\n              <div class=\\\"row invoice-info\\\">\\r\\n                \\r\\n                <div class=\\\"col-sm-8 invoice-col\\\">\\r\\n                  <address>\\r\\n                    <input type=\\\"hidden\\\" v-model=\\\"m.purchaser\\\">\\r\\n\\r\\n                    <div class=\\\"row mb-2\\\" style=\\\"align-items: center;\\\">\\r\\n                      <div class=\\\"col-4\\\"><b>კლიენტის სახელი :</b></div>\\r\\n                      <div class=\\\"col-8\\\"><input class=\\\"form-control\\\" type=\\\"text\\\" v-model=\\\"v$.model.purchaser.$model.name\\\"></div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row mb-2\\\" style=\\\"align-items: center;\\\">\\r\\n                      <div class=\\\"col-4\\\"><b>დამატებითი სახელი :</b></div>\\r\\n                      <div class=\\\"col-8\\\"><input class=\\\"form-control\\\" type=\\\"text\\\" v-model=\\\"v$.model.purchaser.$model.subj_name\\\"></div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row mb-2\\\" style=\\\"align-items: center;\\\">\\r\\n                      <div class=\\\"col-4\\\"><b>კლიენტის მისამართი :</b></div>\\r\\n                      <div class=\\\"col-8\\\"><input class=\\\"form-control\\\" type=\\\"text\\\" v-model=\\\"v$.model.purchaser.$model.subj_address\\\"></div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row mb-2\\\" style=\\\"align-items: center;\\\">\\r\\n                      <div class=\\\"col-4\\\"><b>საიდენთიპიკაციო კოდი :</b></div>\\r\\n                      <div class=\\\"col-8\\\"><input class=\\\"form-control\\\" type=\\\"text\\\" v-model=\\\"v$.model.purchaser.$model.identification_num\\\"></div>\\r\\n                    </div>\\r\\n                    \\r\\n                  \\r\\n                    <!-- Phone: (555) 539-1037<br>\\r\\n                    Email: john.doe@example.com -->\\r\\n                  </address>\\r\\n                </div>\\r\\n                <!-- /.col -->\\r\\n                <div class=\\\"col-sm-4 invoice-col\\\" style=\\\"align-items: flex-end; display: flex; flex-direction: column;\\\">\\r\\n\\r\\n                  <div><b>Invoice {{model.uuid}}</b><br></div>\\r\\n                  <!-- <div><b>Order ID:</b> 4F3S8J <br></div>\\r\\n                  <div><b>Payment Due:</b> 2/22/2017 <br></div> -->\\r\\n                  \\r\\n                  \\r\\n                </div>\\r\\n                <!-- /.col -->\\r\\n              </div>\\r\\n               <button :disabled=\\\"m.purchaser.id && model.id\\\" type=\\\"button\\\" @click=\\\"setter('purchasers')\\\" class=\\\"btn btn-sm btn-outline-success\\\"><i class=\\\"fas fa-shield-alt\\\"></i> დამატება </button>\\r\\n              <!-- /.row -->\\r\\n<hr>\\r\\n              <!-- Table row -->\\r\\n              <div class=\\\"row\\\">\\r\\n\\r\\n\\r\\n                <div class=\\\"col-12 table-responsive\\\">\\r\\n                  <p class=\\\"lead\\\">მასალები</p>\\r\\n\\r\\n                  <table class=\\\"table table-striped\\\" style=\\\"background: #edebe4; color: #fff;\\\">\\r\\n                    <thead>\\r\\n                      <tr>\\r\\n                        <th style=\\\"width:30%;\\\">დასახელება</th>\\r\\n                        <th style=\\\"width:20%;\\\">აღწერა</th>\\r\\n                        <th>ერთეული</th>\\r\\n                        <th>რაოდენობა</th>\\r\\n                        <th style=\\\"text-align: center;\\\">ფასი</th>\\r\\n                        <th style=\\\"text-align: center;\\\">ხელ.ფასი</th>\\r\\n                        <th>ჯამი</th>\\r\\n                        <th>ქმედება</th>\\r\\n                      </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <draggable v-model=\\\"m.category_attributes\\\" tag=\\\"tbody\\\" item-key=\\\"id\\\" :disabled=\\\"step\\\">\\r\\n                    <template  #item=\\\"{ element }\\\">\\r\\n                      <request-single-attribute @action_focus=\\\"try_focus\\\" @action_blur=\\\"try_blur\\\" @action_price=\\\"price\\\" @action_remove=\\\"remove\\\" :keys=\\\"keys\\\" :join-in-tree=\\\"attributeJoinedTree(element)\\\" :item=\\\"element\\\" :model=\\\"m\\\" />\\r\\n                    </template>\\r\\n                    </draggable>\\r\\n\\r\\n                    \\r\\n\\r\\n                    <tr class=\\\"calculator\\\">\\r\\n                        <th colspan=\\\"4\\\">დაჯამება : </th>\\r\\n                        <th>\\r\\n                          <input class=\\\"form-control\\\" type=\\\"text\\\" readonly v-model=\\\"agr.price\\\">\\r\\n                        </th>\\r\\n                        <td>\\r\\n                          <input class=\\\"form-control\\\" type=\\\"text\\\" readonly v-model=\\\"agr.service_price\\\">\\r\\n                        </td>\\r\\n                        <td>\\r\\n                          <input class=\\\"form-control\\\" type=\\\"text\\\" readonly v-model=\\\"agr.calc\\\">\\r\\n                        </td>\\r\\n                        <td></td>\\r\\n                      </tr>\\r\\n\\r\\n                  </table>\\r\\n                  <button type=\\\"button\\\" @click=\\\"setter('categories')\\\" class=\\\"btn btn-sm btn-outline-success mr-1\\\"><i class=\\\"fas fa-shield-alt\\\"></i> დამატება </button>\\r\\n\\r\\n               <button type=\\\"button\\\" @click=\\\"findSpecialAtribute('new')\\\" class=\\\"btn btn-sm btn-outline-warning\\\"><i class=\\\"fas fa-shield-alt\\\"></i> ახალი </button>\\r\\n                </div>\\r\\n                <!-- /.col -->\\r\\n                 \\r\\n              </div>\\r\\n              <!-- /.row -->\\r\\n<hr>\\r\\n             \\r\\n              <!-- /.row -->\\r\\n<hr>\\r\\n\\r\\n              <!-- this row will not appear when printing -->\\r\\n              <div class=\\\"row no-print\\\">\\r\\n                <div class=\\\"col-12\\\">\\r\\n                  <a rel=\\\"\\\" @click=\\\"exit\\\" class=\\\"btn btn-warning mr-1\\\">გასვლა</a>\\r\\n                  <a rel=\\\"\\\" target=\\\"_blank\\\" @click=\\\"e => remove(e, model, true)\\\" class=\\\"btn btn-danger\\\">წაშლა</a>\\r\\n\\r\\n                  <button :disabled=\\\"v$.m.$invalid || v$.model.$invalid\\\" @click=\\\"send\\\" type=\\\"button\\\" class=\\\"btn btn-success float-right\\\"><i class=\\\"far fa-credit-card\\\"></i> შენახვა\\r\\n                  </button>\\r\\n                  <button :disabled=\\\"v$.m.$invalid || v$.model.$invalid\\\" @click=\\\"e => gadawera(e, model, true)\\\" type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\" style=\\\"margin-right: 5px;\\\">\\r\\n                    <i class=\\\"far fa-copy\\\"></i> გადაწერა\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- /.invoice -->\\r\\n          </div><!-- /.col -->\\r\\n        </div><!-- /.row -->\\r\\n\\r\\n        <modal v-if=\\\"showModal\\\" @exit=\\\"try_exit\\\" :categories=\\\"selectBuilder\\\" :selector=\\\"selector\\\" :setting=\\\"setting\\\"></modal>\\r\\n   </div>\\r\\n\\r\\n</template>\\r\\n\\r\\n<script>\\r\\n\\r\\n  import Util from 'Util'\\r\\n  import useVuelidate from '@vuelidate/core'\\r\\n  import { required, maxLength } from '@vuelidate/validators'\\r\\n  import draggable from '../vendors/vuedraggable/src/vuedraggable'\\r\\n\\r\\n  export default {\\r\\n    props:['user', 'model', 'setting', 'additional'],\\r\\n    components: {\\r\\n    draggable\\r\\n  },\\r\\n    setup (props) {\\r\\n      return { v$: useVuelidate() }\\r\\n    },\\r\\n    created() {\\r\\n\\r\\n      this.m = this.attributeInit;\\r\\n\\r\\n      // console.log('this.additional', this.additional)\\r\\n\\r\\n      // console.log('test', this.recurcive(this.test, 3))\\r\\n      // console.log('p1: 0, p2: 0', this.calculate)\\r\\n      // this.c = this.calculate\\r\\n      // console.log('this.c', this.c)\\r\\n\\r\\n      // let initReporteValue = Util.initReporteValues(this.names, this.m);\\r\\n\\r\\n      // console.log('test', initReporteValue)\\r\\n      // console.log('test2', Util.itemReportValue(30, this.m, initReporteValue))\\r\\n\\r\\n      this.calculator.percenters = this.percenters\\r\\n      this.calculator.inputs = this.initReporteValues\\r\\n\\r\\n      this.keys = ['price', 'service_price', 'calc']\\r\\n\\r\\n      if (!this.model.purchaser) this.model.purchaser = { name: '', subj_name: '', subj_address: '', identification_num: '' }\\r\\n\\r\\n    },\\r\\n    mounted () {\\r\\n      if (this.m.category_attributes.length && Util._isEmpty(this.agr)) {\\r\\n        this.agr = Util.agr(this.m.category_attributes);\\r\\n      }\\r\\n      this.v$.model.$touch();\\r\\n      this.v$.m.$touch();\\r\\n    },\\r\\n    data () {\\r\\n      return {\\r\\n        showModal: false,\\r\\n        selector: \\\"\\\",\\r\\n        step: false,\\r\\n\\r\\n        agr: {},\\r\\n        m: {},\\r\\n        c: [],\\r\\n\\r\\n        calculator: {\\r\\n          names: ['მასალის ტრანსპორტირების ჯამი :', 'ზედნადები ხარჯი :', 'მოგება :', 'გაუთველისწინებელი ხარჯი :', 'დღგ :']\\r\\n        },\\r\\n        keys: [],\\r\\n\\r\\n        selectBuilder: []\\r\\n      }\\r\\n    },\\r\\n    watch: {\\r\\n      'm.category_attributes': {\\r\\n        handler (newValue, prevValue) {\\r\\n          if (newValue && newValue.length && prevValue) {\\r\\n            this.agr = Util.agr(newValue, true);\\r\\n          }\\r\\n        },\\r\\n        deep: true,\\r\\n        immediate: true\\r\\n      },\\r\\n      agr: {\\r\\n        handler (newValue, prevValue) {\\r\\n          if (!Util._isEmpty(newValue) && prevValue) {\\r\\n            this.recurcive(this.calculator.inputs, newValue.calc)\\r\\n          }\\r\\n        },\\r\\n        deep: true,\\r\\n        immediate: true\\r\\n      },\\r\\n      'calculator.inputs': {\\r\\n        handler (newValue, prevValue) {\\r\\n          if (newValue && prevValue && newValue.length) {\\r\\n\\r\\n            newValue.map(i => {\\r\\n              this.m[i.inputName] = i.value;\\r\\n            })\\r\\n\\r\\n            this.m.category_attributes.map(attribute => {\\r\\n              this.keys.map(key => {\\r\\n                if (attribute.pivot[key]) {\\r\\n                  attribute.pivot[key] = Util.itemReportValue(attribute[key], this.initReporteValues)\\r\\n                }\\r\\n              })\\r\\n            })\\r\\n          }\\r\\n        },\\r\\n        deep: true,\\r\\n        immediate: true\\r\\n      }\\r\\n    },\\r\\n    validations () {\\r\\n      let validateRule = {\\r\\n        m : {\\r\\n          category_attributes: { required }\\r\\n        },\\r\\n        model: {\\r\\n          title: { required },\\r\\n          purchaser: { name: { required }, subj_name: { required }, subj_address: { required }, identification_num: { required } },\\r\\n        }\\r\\n      }\\r\\n      return validateRule\\r\\n    },\\r\\n    computed: {\\r\\n\\r\\n      attributeJoinedTree: (app) => (item) => {\\r\\n        return (item.category_id) ? app.additional.categories.find(i => i.id == item.category_id).category_attributes : []\\r\\n      },\\r\\n\\r\\n      initReporteValues () {\\r\\n        return Array.from({ length : this.calculator.names.length}, (_, i) => {\\r\\n\\r\\n          let title = this.calculator.names[i]\\r\\n          let inputName = 'p' + (i + 1)\\r\\n          let value = this.m[inputName]\\r\\n\\r\\n          return { title, inputName, value }\\r\\n        })\\r\\n      },\\r\\n\\r\\n      percenters () {\\r\\n        return Array.from({ length : this.calculator.names.length}, (_, i) => {\\r\\n          return { p1: 0, p2: 0 }\\r\\n        })\\r\\n      },\\r\\n\\r\\n\\r\\n      attributeInit () {\\r\\n        this.model.category_attributes = this.model.category_attributes.reduce((acumu, res) => {\\r\\n          let init = res;\\r\\n          let hasSpecial = this.model.special.find(s => s.category_attribute_id === res.id);\\r\\n          if (hasSpecial) { init.isSpecial = true; }\\r\\n          if (hasSpecial && !res.pivot.is_special) {\\r\\n            res.pivot.price = hasSpecial.json.price\\r\\n            res.pivot.is_special = true\\r\\n            res.pivot.service_price = hasSpecial.json.service_price\\r\\n            res.pivot.calc = this.specNum((res.pivot.qty * (parseFloat(res.pivot.price) + parseFloat(res.pivot.service_price))))\\r\\n            init = { ...hasSpecial.json, pivot: res.pivot }\\r\\n          }\\r\\n          (acumu || []).push(init)\\r\\n          return acumu;\\r\\n        }, []);\\r\\n        return this.model;\\r\\n      }\\r\\n\\r\\n    },\\r\\n    methods: {\\r\\n\\r\\n      recurcive (arr, price, index = 0) {\\r\\n        if (arr[index] != undefined) {\\r\\n          this.calculator.percenters[index].p1 = this.specNum((arr[index].value * price) / 100)\\r\\n          this.calculator.percenters[index].p2 = this.specNum(price + this.calculator.percenters[index].p1)\\r\\n\\r\\n          let nextPrice = this.calculator.percenters[index].p2\\r\\n\\r\\n          index = index + 1\\r\\n          return this.recurcive(arr, nextPrice, index)\\r\\n        } else {\\r\\n          return arr;\\r\\n        }\\r\\n      },\\r\\n\\r\\n      specNum (num) {\\r\\n        if (!num) return 0.00\\r\\n        let number = (Math.ceil((parseFloat(num)) * 100) / 100)\\r\\n        // return parseFloat(new Intl.NumberFormat('en-Us', {\\r\\n        //   minimumFractionDigits: 2,\\r\\n        //   maximumFractionDigits: 2\\r\\n        // }).format(num));\\r\\n        return parseFloat(number);\\r\\n      },\\r\\n\\r\\n      price (event, price, alter = false) {\\r\\n          if (!event.target.value) {\\r\\n            price.pivot[event.target.getAttribute('name')] = 0\\r\\n          }\\r\\n          if (!alter) price.pivot.qty = Number(event.target.value)\\r\\n          price.pivot.calc = this.specNum(price.pivot.qty * (parseFloat(price.pivot.price) + parseFloat(price.pivot.service_price)))\\r\\n      },\\r\\n\\r\\n      removeRequest (model, setting, callback, isReserve=null) {\\r\\n\\r\\n        let isNew = isReserve ? model.id : model.pivot.id\\r\\n        let invoice = this.m.id ? this.m.id : !!this.m.id\\r\\n\\r\\n        if (!isNew) { return callback() }\\r\\n\\r\\n        let action = document.querySelector('form#render').getAttribute('action')\\r\\n        let token = document.querySelector('meta[name=\\\"csrf-token\\\"').getAttribute('content')\\r\\n\\r\\n        return this.$http.delete(`${setting.url.nested.destroy.replace('__id__', isNew)}`, { data: { reserve: isReserve, invoice }}, {\\r\\n          \\\"Content-Type\\\": \\\"application/json\\\",\\r\\n          'X-CSRF-TOKEN': token\\r\\n        })\\r\\n        .then(async response => {\\r\\n          if (response.data.success == true) {\\r\\n            callback()\\r\\n          } else {\\r\\n            response.data.errs.map(item => this.$toast.error(item, { position: 'top-right', duration: 7000 }))\\r\\n          }\\r\\n        })\\r\\n        .catch((e) => {\\r\\n          if (e.response.statusText) this.$toast.error(e.response.statusText, { position: 'top-right', duration: 7000 })\\r\\n        });\\r\\n      },\\r\\n\\r\\n      remove (e, model, isReserve) {\\r\\n        e.preventDefault();\\r\\n        return  Util.useSwall2(model).then((result) => {\\r\\n          if (result.isConfirmed) {\\r\\n            this.removeRequest(model || null, this.setting, () => {\\r\\n\\r\\n              if (!isReserve) {\\r\\n                let index = this.m.category_attributes.findIndex(i => i.uuid == model.uuid);\\r\\n                this.m.category_attributes.splice(index, 1)\\r\\n              }\\r\\n\\r\\n              Swal.fire('წაშლა!', 'წაშლა შესრრულდა წარმატებით.', 'success').then(() => {\\r\\n                if (isReserve) {\\r\\n                  window.location.replace(this.setting.url.request.index.replace('api/', ''))\\r\\n                }\\r\\n              })\\r\\n\\r\\n            }, isReserve)\\r\\n          }\\r\\n        })\\r\\n      },\\r\\n\\r\\n      findSpecialAtribute (res) {\\r\\n        let existInModel = this.m.category_attributes.find(i => i.id == res.id)\\r\\n        let existInSpeciail = this.m.special.find(i => i.category_attribute_id == res.id)\\r\\n        if (res == 'new') {\\r\\n\\r\\n          // this.m.category_attributes.push({\\r\\n          //   category_id: null,\\r\\n          //   name: '',\\r\\n          //   pivot:[],\\r\\n          //   nested:[],\\r\\n          //   price:0,\\r\\n          //   service_price:0,\\r\\n          //   pivot: { \\r\\n          //     qty: 1, \\r\\n          //     price: '',\\r\\n          //     service_price: '',\\r\\n          //     calc:  '',\\r\\n          //     evaluation_calc:  ''\\r\\n          //   }\\r\\n          // })\\r\\n\\r\\n          this.m.category_attributes.push({\\r\\n            category_id: null,\\r\\n            name: '',\\r\\n            pivot:[],\\r\\n            nested:[],\\r\\n            price:0,\\r\\n            item: '',\\r\\n            uuid: Util.uuid(),\\r\\n            parent_uuid: null,\\r\\n            category_type: 0,\\r\\n            service_price:0,\\r\\n            pivot: { \\r\\n              qty: 1, \\r\\n              price: '',\\r\\n              service_price: '',\\r\\n              calc:  '',\\r\\n              evaluation_calc:  ''\\r\\n            }\\r\\n          })\\r\\n\\r\\n        } else if (existInModel) {\\r\\n          existInModel.pivot.qty = existInModel.pivot.qty + 1;\\r\\n          // existInModel.pivot.price = existInModel.price * existInModel.pivot.qty;\\r\\n          existInModel.pivot.calc = this.specNum(\\r\\n            (existInModel.pivot.qty * (parseFloat(existInModel.pivot.price) + parseFloat(existInModel.pivot.service_price)))\\r\\n          )\\r\\n          existInModel.pivot.evaluation_calc = Util.itemReportValue(existInModel.pivot.calc, this.initReporteValues)\\r\\n        } else if (existInSpeciail) {\\r\\n          existInSpeciail = existInSpeciail.json\\r\\n          existInSpeciail.pivot = {\\r\\n            qty: 1, \\r\\n            price: Util.itemReportValue(existInSpeciail.price, this.initReporteValues),\\r\\n            is_special : true,\\r\\n            category_attribute_id: res.id,\\r\\n            service_price: Util.itemReportValue(existInSpeciail.service_price, this.initReporteValues),\\r\\n            calc:  this.specNum((existInSpeciail.service_price + existInSpeciail.price)),\\r\\n            evaluation_calc:  Util.itemReportValue(this.specNum((existInSpeciail.service_price + existInSpeciail.price)), this.initReporteValues)\\r\\n          }\\r\\n          this.m.category_attributes.push(existInSpeciail)\\r\\n        } else {\\r\\n          this.m.category_attributes.push({\\r\\n            ...res, \\r\\n            pivot: { \\r\\n              qty: 1, \\r\\n              price: Util.itemReportValue(res.price, this.initReporteValues),\\r\\n              category_attribute_id: res.id,\\r\\n              service_price: Util.itemReportValue(res.service_price, this.initReporteValues),\\r\\n              calc:  this.specNum((res.service_price + res.price)),\\r\\n              evaluation_calc:  Util.itemReportValue(this.specNum((res.service_price + res.price)), this.initReporteValues)\\r\\n            }\\r\\n          })\\r\\n        }\\r\\n      },\\r\\n\\r\\n      try_exit (res, selector) {\\r\\n\\r\\n        this.showModal = false\\r\\n\\r\\n        if (selector == \\\"purchasers\\\") {\\r\\n          this.model.purchaser = res\\r\\n          this.model.special = res.special_attributes\\r\\n        } else if (selector == \\\"categories\\\") {\\r\\n          this.findSpecialAtribute(res)\\r\\n        }\\r\\n\\r\\n      },\\r\\n\\r\\n      setter (name) {\\r\\n        this.selectBuilder = [{ selected: '', res: this.additional[name] }]\\r\\n        this.selector = name;\\r\\n        this.showModal = true\\r\\n      },\\r\\n\\r\\n      send(e) {\\r\\n\\r\\n        e.preventDefault();\\r\\n\\r\\n        let action = document.querySelector('form#render').getAttribute('action')\\r\\n        let token = document.querySelector('meta[name=\\\"csrf-token\\\"').getAttribute('content')\\r\\n\\r\\n        let filter = this.model.category_attributes.map(({ nested, ...rest }) => rest).map((item, index) => { item.pivot.sort = index + 1; return item });\\r\\n        this.model.category_attributes = filter;\\r\\n\\r\\n        // this.model\\r\\n        //this.$http.post(action, this.model, {\\\"Content-Type\\\": \\\"application/json\\\",'X-CSRF-TOKEN': token })\\r\\n\\r\\n        this.$http.post(action, this.model, {\\r\\n          \\\"Content-Type\\\": \\\"application/json\\\",\\r\\n          'X-CSRF-TOKEN': token\\r\\n        })\\r\\n        .then(async response => {\\r\\n\\r\\n          Util.useSwall(response).then((result) => {\\r\\n\\r\\n            if (result.value) {\\r\\n              window.location.replace(this.setting.url.request.index.replace('api/', ''))\\r\\n            } else if (this.model.id == null && response.data.success == true) {\\r\\n              window.location.replace(window.location.href.replace('new', response.data.result.id));\\r\\n            }\\r\\n\\r\\n            if (!response.data.success) {\\r\\n              if (response.data.errs) response.data.errs.map(item => this.$toast.error(item, { position: 'top-right', duration: 7000 }))\\r\\n            }\\r\\n\\r\\n          })\\r\\n\\r\\n        })\\r\\n        .catch((e) => {\\r\\n          this.$toast.error(e.response.statusText, { position: 'top-right', duration: 7000 })\\r\\n        });\\r\\n\\r\\n        return false\\r\\n      },\\r\\n\\r\\n      gadawera (e, model, isReserve) {\\r\\n        let session = [{...this.model}].map(({ purchaser, purchaser_id, special,...rest }) => rest).find((_, index) => index == 0);\\r\\n        \\r\\n        delete session.id\\r\\n        session.special = []\\r\\n        session.purchaser = {}\\r\\n        session.category_attributes.map(i => { delete i.pivot.id; delete i.pivot.attributable_id; return i })\\r\\n\\r\\n        sessionStorage.setItem('model', JSON.stringify(session))\\r\\n        window.location.href = this.setting.url.request.edit\\r\\n      },\\r\\n\\r\\n      try_focus () {\\r\\n        this.step = true\\r\\n      },\\r\\n\\r\\n      try_blur () {\\r\\n        this.step = false\\r\\n      },\\r\\n\\r\\n      exit () {\\r\\n        return  window.location.href = this.setting.url.request.index.replace('api/', '')\\r\\n      }\\r\\n    }\\r\\n  } \\r\\n</script>\\r\\n\\r\\n<style>\\r\\n  table tr > td, table tr > th {\\r\\n    vertical-align: middle;\\r\\n  }\\r\\n\\r\\n  .table thead th {\\r\\n    vertical-align: middle;\\r\\n    padding:3px;\\r\\n    background: gray;\\r\\n                    border: 1px solid white;\\r\\n                    text-align: center;\\r\\n  }\\r\\n\\r\\n  .table td {\\r\\n    cursor: move;\\r\\n  }\\r\\n\\r\\n  .table td, .table th {\\r\\n    vertical-align: middle;\\r\\n    padding: 3px;\\r\\n  }\\r\\n\\r\\n  .table td input, .table th input {\\r\\n    padding: 3px;\\r\\n  }\\r\\n\\r\\n  .calculator {\\r\\n    color: black;\\r\\n  }\\r\\n\\r\\n  table.table-striped {\\r\\n    /*border-top-color: #000; \\r\\n    border-top-width: 1; \\r\\n    border-top-style: solid;*/\\r\\n    border: 3px solid gray;\\r\\n  }\\r\\n\\r\\n  table.table-striped tr.calculator {\\r\\n    background-color: #fff;\\r\\n\\r\\n    border-bottom-color: #000; \\r\\n    border-bottom-width: 1; \\r\\n    border-bottom-style: solid;\\r\\n\\r\\n    border-top-color: #000; \\r\\n    border-top-width: 1; \\r\\n    border-top-style: solid;\\r\\n  }\\r\\n\\r\\n   table {\\r\\n                    border-collapse: collapse;\\r\\n                    width: 100%;\\r\\n                  }\\r\\n\\r\\n</style>\\r\\n\\r\\n\\r\\n\\r\\n<!-- this.model.category_attributes.map(res => \\r\\n  ({pivot: res.pivot, ...this.model.special.find(s => s.category_attribute_id === res.id).json } || res)\\r\\n); -->\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\r\n\r\n\t <div class=\"container-fluid\">\r\n\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            \r\n\r\n\r\n            <!-- Main content -->\r\n            <div class=\"invoice p-3 mb-3\">\r\n               <div style=\"\">\r\n                                        <div class=\"form-group row\">\r\n                      <label for=\"staticEmail\" class=\"col-sm-3 col-form-label\"><b>დასახელება :</b></label>\r\n                      <div class=\"col-sm-9\">\r\n                       <input class=\"form-control\" type=\"text\" v-model=\"v$.model.$model.title\">\r\n                      </div>\r\n                    </div> \r\n                      \r\n                    </div>\r\n                    <hr>\r\n\r\n              <p class=\"lead\">მყიდველი</p>\r\n              <div class=\"row invoice-info\">\r\n                \r\n                <div class=\"col-sm-8 invoice-col\">\r\n                  <address>\r\n                    <input type=\"hidden\" v-model=\"m.purchaser\">\r\n\r\n                    <div class=\"row mb-2\" style=\"align-items: center;\">\r\n                      <div class=\"col-4\"><b>კლიენტის სახელი :</b></div>\r\n                      <div class=\"col-8\"><input class=\"form-control\" type=\"text\" v-model=\"v$.model.purchaser.$model.name\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"row mb-2\" style=\"align-items: center;\">\r\n                      <div class=\"col-4\"><b>დამატებითი სახელი :</b></div>\r\n                      <div class=\"col-8\"><input class=\"form-control\" type=\"text\" v-model=\"v$.model.purchaser.$model.subj_name\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"row mb-2\" style=\"align-items: center;\">\r\n                      <div class=\"col-4\"><b>კლიენტის მისამართი :</b></div>\r\n                      <div class=\"col-8\"><input class=\"form-control\" type=\"text\" v-model=\"v$.model.purchaser.$model.subj_address\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"row mb-2\" style=\"align-items: center;\">\r\n                      <div class=\"col-4\"><b>საიდენთიპიკაციო კოდი :</b></div>\r\n                      <div class=\"col-8\"><input class=\"form-control\" type=\"text\" v-model=\"v$.model.purchaser.$model.identification_num\"></div>\r\n                    </div>\r\n                    \r\n                  \r\n                    <!-- Phone: (555) 539-1037<br>\r\n                    Email: john.doe@example.com -->\r\n                  </address>\r\n                </div>\r\n                <!-- /.col -->\r\n                <div class=\"col-sm-4 invoice-col\" style=\"align-items: flex-end; display: flex; flex-direction: column;\">\r\n\r\n                  <div><b>Invoice {{model.uuid}}</b><br></div>\r\n                  <!-- <div><b>Order ID:</b> 4F3S8J <br></div>\r\n                  <div><b>Payment Due:</b> 2/22/2017 <br></div> -->\r\n                  \r\n                  \r\n                </div>\r\n                <!-- /.col -->\r\n              </div>\r\n               <button :disabled=\"m.purchaser.id && model.id\" type=\"button\" @click=\"setter('purchasers')\" class=\"btn btn-sm btn-outline-success\"><i class=\"fas fa-shield-alt\"></i> დამატება </button>\r\n              <!-- /.row -->\r\n<hr>\r\n              <!-- Table row -->\r\n              <div class=\"row\">\r\n\r\n\r\n                <div class=\"col-12 table-responsive\">\r\n                  <p class=\"lead\">მასალები</p>\r\n\r\n                  <table class=\"table table-striped\" style=\"background: #edebe4; color: #fff;\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th style=\"width:30%;\">დასახელება</th>\r\n                        <th style=\"width:20%;\">აღწერა</th>\r\n                        <th>ერთეული</th>\r\n                        <th>რაოდენობა</th>\r\n                        <th style=\"text-align: center;\">ფასი</th>\r\n                        <th style=\"text-align: center;\">ხელ.ფასი</th>\r\n                        <th>ჯამი</th>\r\n                        <th>ქმედება</th>\r\n                      </tr>\r\n                    </thead>\r\n\r\n                    <draggable v-model=\"m.category_attributes\" tag=\"tbody\" item-key=\"id\" :disabled=\"step\">\r\n                    <template  #item=\"{ element }\">\r\n                      <request-single-attribute @action_focus=\"try_focus\" @action_blur=\"try_blur\" @action_price=\"price\" @action_remove=\"remove\" :keys=\"keys\" :join-in-tree=\"attributeJoinedTree(element)\" :item=\"element\" :model=\"m\" />\r\n                    </template>\r\n                    </draggable>\r\n\r\n                    \r\n\r\n                    <tr class=\"calculator\">\r\n                        <th colspan=\"4\">დაჯამება : </th>\r\n                        <th>\r\n                          <input class=\"form-control\" type=\"text\" readonly v-model=\"agr.price\">\r\n                        </th>\r\n                        <td>\r\n                          <input class=\"form-control\" type=\"text\" readonly v-model=\"agr.service_price\">\r\n                        </td>\r\n                        <td>\r\n                          <input class=\"form-control\" type=\"text\" readonly v-model=\"agr.calc\">\r\n                        </td>\r\n                        <td></td>\r\n                      </tr>\r\n\r\n                  </table>\r\n                  <button type=\"button\" @click=\"setter('categories')\" class=\"btn btn-sm btn-outline-success mr-1\"><i class=\"fas fa-shield-alt\"></i> დამატება </button>\r\n\r\n               <button type=\"button\" @click=\"findSpecialAtribute('new')\" class=\"btn btn-sm btn-outline-warning\"><i class=\"fas fa-shield-alt\"></i> ახალი </button>\r\n                </div>\r\n                <!-- /.col -->\r\n                 \r\n              </div>\r\n              <!-- /.row -->\r\n<hr>\r\n             \r\n              <!-- /.row -->\r\n<hr>\r\n\r\n              <!-- this row will not appear when printing -->\r\n              <div class=\"row no-print\">\r\n                <div class=\"col-12\">\r\n                  <a rel=\"\" @click=\"exit\" class=\"btn btn-warning mr-1\">გასვლა</a>\r\n                  <a rel=\"\" target=\"_blank\" @click=\"e => remove(e, model, true)\" class=\"btn btn-danger\">წაშლა</a>\r\n\r\n                  <button :disabled=\"v$.m.$invalid || v$.model.$invalid\" @click=\"send\" type=\"button\" class=\"btn btn-success float-right\"><i class=\"far fa-credit-card\"></i> შენახვა\r\n                  </button>\r\n                  <button :disabled=\"v$.m.$invalid || v$.model.$invalid\" @click=\"e => gadawera(e, model, true)\" type=\"button\" class=\"btn btn-primary float-right\" style=\"margin-right: 5px;\">\r\n                    <i class=\"far fa-copy\"></i> გადაწერა\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- /.invoice -->\r\n          </div><!-- /.col -->\r\n        </div><!-- /.row -->\r\n\r\n        <modal v-if=\"showModal\" @exit=\"try_exit\" :categories=\"selectBuilder\" :selector=\"selector\" :setting=\"setting\"></modal>\r\n   </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n  import Util from 'Util'\r\n  import useVuelidate from '@vuelidate/core'\r\n  import { required, maxLength } from '@vuelidate/validators'\r\n  import draggable from '../vendors/vuedraggable/src/vuedraggable'\r\n\r\n  export default {\r\n    props:['user', 'model', 'setting', 'additional'],\r\n    components: {\r\n    draggable\r\n  },\r\n    setup (props) {\r\n      return { v$: useVuelidate() }\r\n    },\r\n    created() {\r\n\r\n      this.m = this.attributeInit;\r\n\r\n      // console.log('this.additional', this.additional)\r\n\r\n      // console.log('test', this.recurcive(this.test, 3))\r\n      // console.log('p1: 0, p2: 0', this.calculate)\r\n      // this.c = this.calculate\r\n      // console.log('this.c', this.c)\r\n\r\n      // let initReporteValue = Util.initReporteValues(this.names, this.m);\r\n\r\n      // console.log('test', initReporteValue)\r\n      // console.log('test2', Util.itemReportValue(30, this.m, initReporteValue))\r\n\r\n      this.calculator.percenters = this.percenters\r\n      this.calculator.inputs = this.initReporteValues\r\n\r\n      this.keys = ['price', 'service_price', 'calc']\r\n\r\n      if (!this.model.purchaser) this.model.purchaser = { name: '', subj_name: '', subj_address: '', identification_num: '' }\r\n\r\n    },\r\n    mounted () {\r\n      if (this.m.category_attributes.length && Util._isEmpty(this.agr)) {\r\n        this.agr = Util.agr(this.m.category_attributes);\r\n      }\r\n      this.v$.model.$touch();\r\n      this.v$.m.$touch();\r\n    },\r\n    data () {\r\n      return {\r\n        showModal: false,\r\n        selector: \"\",\r\n        step: false,\r\n\r\n        agr: {},\r\n        m: {},\r\n        c: [],\r\n\r\n        calculator: {\r\n          names: ['მასალის ტრანსპორტირების ჯამი :', 'ზედნადები ხარჯი :', 'მოგება :', 'გაუთველისწინებელი ხარჯი :', 'დღგ :']\r\n        },\r\n        keys: [],\r\n\r\n        selectBuilder: []\r\n      }\r\n    },\r\n    watch: {\r\n      'm.category_attributes': {\r\n        handler (newValue, prevValue) {\r\n          if (newValue && newValue.length && prevValue) {\r\n            this.agr = Util.agr(newValue, true);\r\n          }\r\n        },\r\n        deep: true,\r\n        immediate: true\r\n      },\r\n      agr: {\r\n        handler (newValue, prevValue) {\r\n          if (!Util._isEmpty(newValue) && prevValue) {\r\n            this.recurcive(this.calculator.inputs, newValue.calc)\r\n          }\r\n        },\r\n        deep: true,\r\n        immediate: true\r\n      },\r\n      'calculator.inputs': {\r\n        handler (newValue, prevValue) {\r\n          if (newValue && prevValue && newValue.length) {\r\n\r\n            newValue.map(i => {\r\n              this.m[i.inputName] = i.value;\r\n            })\r\n\r\n            this.m.category_attributes.map(attribute => {\r\n              this.keys.map(key => {\r\n                if (attribute.pivot[key]) {\r\n                  attribute.pivot[key] = Util.itemReportValue(attribute[key], this.initReporteValues)\r\n                }\r\n              })\r\n            })\r\n          }\r\n        },\r\n        deep: true,\r\n        immediate: true\r\n      }\r\n    },\r\n    validations () {\r\n      let validateRule = {\r\n        m : {\r\n          category_attributes: { required }\r\n        },\r\n        model: {\r\n          title: { required },\r\n          purchaser: { name: { required }, subj_name: { required }, subj_address: { required }, identification_num: { required } },\r\n        }\r\n      }\r\n      return validateRule\r\n    },\r\n    computed: {\r\n\r\n      attributeJoinedTree: (app) => (item) => {\r\n        return (item.category_id) ? app.additional.categories.find(i => i.id == item.category_id).category_attributes : []\r\n      },\r\n\r\n      initReporteValues () {\r\n        return Array.from({ length : this.calculator.names.length}, (_, i) => {\r\n\r\n          let title = this.calculator.names[i]\r\n          let inputName = 'p' + (i + 1)\r\n          let value = this.m[inputName]\r\n\r\n          return { title, inputName, value }\r\n        })\r\n      },\r\n\r\n      percenters () {\r\n        return Array.from({ length : this.calculator.names.length}, (_, i) => {\r\n          return { p1: 0, p2: 0 }\r\n        })\r\n      },\r\n\r\n\r\n      attributeInit () {\r\n        this.model.category_attributes = this.model.category_attributes.reduce((acumu, res) => {\r\n          let init = res;\r\n          let hasSpecial = this.model.special.find(s => s.category_attribute_id === res.id);\r\n          if (hasSpecial) { init.isSpecial = true; }\r\n          if (hasSpecial && !res.pivot.is_special) {\r\n            res.pivot.price = hasSpecial.json.price\r\n            res.pivot.is_special = true\r\n            res.pivot.service_price = hasSpecial.json.service_price\r\n            res.pivot.calc = this.specNum((res.pivot.qty * (parseFloat(res.pivot.price) + parseFloat(res.pivot.service_price))))\r\n            init = { ...hasSpecial.json, pivot: res.pivot }\r\n          }\r\n          (acumu || []).push(init)\r\n          return acumu;\r\n        }, []);\r\n        return this.model;\r\n      }\r\n\r\n    },\r\n    methods: {\r\n\r\n      recurcive (arr, price, index = 0) {\r\n        if (arr[index] != undefined) {\r\n          this.calculator.percenters[index].p1 = this.specNum((arr[index].value * price) / 100)\r\n          this.calculator.percenters[index].p2 = this.specNum(price + this.calculator.percenters[index].p1)\r\n\r\n          let nextPrice = this.calculator.percenters[index].p2\r\n\r\n          index = index + 1\r\n          return this.recurcive(arr, nextPrice, index)\r\n        } else {\r\n          return arr;\r\n        }\r\n      },\r\n\r\n      specNum (num) {\r\n        if (!num) return 0.00\r\n        let number = (Math.ceil((parseFloat(num)) * 100) / 100)\r\n        // return parseFloat(new Intl.NumberFormat('en-Us', {\r\n        //   minimumFractionDigits: 2,\r\n        //   maximumFractionDigits: 2\r\n        // }).format(num));\r\n        return parseFloat(number);\r\n      },\r\n\r\n      price (event, price, alter = false) {\r\n          if (!event.target.value) {\r\n            price.pivot[event.target.getAttribute('name')] = 0\r\n          }\r\n          if (!alter) price.pivot.qty = Number(event.target.value)\r\n          price.pivot.calc = this.specNum(price.pivot.qty * (parseFloat(price.pivot.price) + parseFloat(price.pivot.service_price)))\r\n      },\r\n\r\n      removeRequest (model, setting, callback, isReserve=null) {\r\n\r\n        let isNew = isReserve ? model.id : model.pivot.id\r\n        let invoice = this.m.id ? this.m.id : !!this.m.id\r\n\r\n        if (!isNew) { return callback() }\r\n\r\n        let action = document.querySelector('form#render').getAttribute('action')\r\n        let token = document.querySelector('meta[name=\"csrf-token\"').getAttribute('content')\r\n\r\n        return this.$http.delete(`${setting.url.nested.destroy.replace('__id__', isNew)}`, { data: { reserve: isReserve, invoice }}, {\r\n          \"Content-Type\": \"application/json\",\r\n          'X-CSRF-TOKEN': token\r\n        })\r\n        .then(async response => {\r\n          if (response.data.success == true) {\r\n            callback()\r\n          } else {\r\n            response.data.errs.map(item => this.$toast.error(item, { position: 'top-right', duration: 7000 }))\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          if (e.response.statusText) this.$toast.error(e.response.statusText, { position: 'top-right', duration: 7000 })\r\n        });\r\n      },\r\n\r\n      remove (e, model, isReserve) {\r\n        e.preventDefault();\r\n        return  Util.useSwall2(model).then((result) => {\r\n          if (result.isConfirmed) {\r\n            this.removeRequest(model || null, this.setting, () => {\r\n\r\n              if (!isReserve) {\r\n                let index = this.m.category_attributes.findIndex(i => i.uuid == model.uuid);\r\n                this.m.category_attributes.splice(index, 1)\r\n              }\r\n\r\n              Swal.fire('წაშლა!', 'წაშლა შესრრულდა წარმატებით.', 'success').then(() => {\r\n                if (isReserve) {\r\n                  window.location.replace(this.setting.url.request.index.replace('api/', ''))\r\n                }\r\n              })\r\n\r\n            }, isReserve)\r\n          }\r\n        })\r\n      },\r\n\r\n      findSpecialAtribute (res) {\r\n        let existInModel = this.m.category_attributes.find(i => i.id == res.id)\r\n        let existInSpeciail = this.m.special.find(i => i.category_attribute_id == res.id)\r\n        if (res == 'new') {\r\n\r\n          // this.m.category_attributes.push({\r\n          //   category_id: null,\r\n          //   name: '',\r\n          //   pivot:[],\r\n          //   nested:[],\r\n          //   price:0,\r\n          //   service_price:0,\r\n          //   pivot: { \r\n          //     qty: 1, \r\n          //     price: '',\r\n          //     service_price: '',\r\n          //     calc:  '',\r\n          //     evaluation_calc:  ''\r\n          //   }\r\n          // })\r\n\r\n          this.m.category_attributes.push({\r\n            category_id: null,\r\n            name: '',\r\n            pivot:[],\r\n            nested:[],\r\n            price:0,\r\n            item: '',\r\n            uuid: Util.uuid(),\r\n            parent_uuid: null,\r\n            category_type: 0,\r\n            service_price:0,\r\n            pivot: { \r\n              qty: 1, \r\n              price: '',\r\n              service_price: '',\r\n              calc:  '',\r\n              evaluation_calc:  ''\r\n            }\r\n          })\r\n\r\n        } else if (existInModel) {\r\n          existInModel.pivot.qty = existInModel.pivot.qty + 1;\r\n          // existInModel.pivot.price = existInModel.price * existInModel.pivot.qty;\r\n          existInModel.pivot.calc = this.specNum(\r\n            (existInModel.pivot.qty * (parseFloat(existInModel.pivot.price) + parseFloat(existInModel.pivot.service_price)))\r\n          )\r\n          existInModel.pivot.evaluation_calc = Util.itemReportValue(existInModel.pivot.calc, this.initReporteValues)\r\n        } else if (existInSpeciail) {\r\n          existInSpeciail = existInSpeciail.json\r\n          existInSpeciail.pivot = {\r\n            qty: 1, \r\n            price: Util.itemReportValue(existInSpeciail.price, this.initReporteValues),\r\n            is_special : true,\r\n            category_attribute_id: res.id,\r\n            service_price: Util.itemReportValue(existInSpeciail.service_price, this.initReporteValues),\r\n            calc:  this.specNum((existInSpeciail.service_price + existInSpeciail.price)),\r\n            evaluation_calc:  Util.itemReportValue(this.specNum((existInSpeciail.service_price + existInSpeciail.price)), this.initReporteValues)\r\n          }\r\n          this.m.category_attributes.push(existInSpeciail)\r\n        } else {\r\n          this.m.category_attributes.push({\r\n            ...res, \r\n            pivot: { \r\n              qty: 1, \r\n              price: Util.itemReportValue(res.price, this.initReporteValues),\r\n              category_attribute_id: res.id,\r\n              service_price: Util.itemReportValue(res.service_price, this.initReporteValues),\r\n              calc:  this.specNum((res.service_price + res.price)),\r\n              evaluation_calc:  Util.itemReportValue(this.specNum((res.service_price + res.price)), this.initReporteValues)\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      try_exit (res, selector) {\r\n\r\n        this.showModal = false\r\n\r\n        if (selector == \"purchasers\") {\r\n          this.model.purchaser = res\r\n          this.model.special = res.special_attributes\r\n        } else if (selector == \"categories\") {\r\n          this.findSpecialAtribute(res)\r\n        }\r\n\r\n      },\r\n\r\n      setter (name) {\r\n        this.selectBuilder = [{ selected: '', res: this.additional[name] }]\r\n        this.selector = name;\r\n        this.showModal = true\r\n      },\r\n\r\n      send(e) {\r\n\r\n        e.preventDefault();\r\n\r\n        let action = document.querySelector('form#render').getAttribute('action')\r\n        let token = document.querySelector('meta[name=\"csrf-token\"').getAttribute('content')\r\n\r\n        let filter = this.model.category_attributes.map(({ nested, ...rest }) => rest).map((item, index) => { item.pivot.sort = index + 1; return item });\r\n        this.model.category_attributes = filter;\r\n\r\n        // this.model\r\n        //this.$http.post(action, this.model, {\"Content-Type\": \"application/json\",'X-CSRF-TOKEN': token })\r\n\r\n        this.$http.post(action, this.model, {\r\n          \"Content-Type\": \"application/json\",\r\n          'X-CSRF-TOKEN': token\r\n        })\r\n        .then(async response => {\r\n\r\n          Util.useSwall(response).then((result) => {\r\n\r\n            if (result.value) {\r\n              window.location.replace(this.setting.url.request.index.replace('api/', ''))\r\n            } else if (this.model.id == null && response.data.success == true) {\r\n              window.location.replace(window.location.href.replace('new', response.data.result.id));\r\n            }\r\n\r\n            if (!response.data.success) {\r\n              if (response.data.errs) response.data.errs.map(item => this.$toast.error(item, { position: 'top-right', duration: 7000 }))\r\n            }\r\n\r\n          })\r\n\r\n        })\r\n        .catch((e) => {\r\n          this.$toast.error(e.response.statusText, { position: 'top-right', duration: 7000 })\r\n        });\r\n\r\n        return false\r\n      },\r\n\r\n      gadawera (e, model, isReserve) {\r\n        let session = [{...this.model}].map(({ purchaser, purchaser_id, special,...rest }) => rest).find((_, index) => index == 0);\r\n        \r\n        delete session.id\r\n        session.special = []\r\n        session.purchaser = {}\r\n        session.category_attributes.map(i => { delete i.pivot.id; delete i.pivot.attributable_id; return i })\r\n\r\n        sessionStorage.setItem('model', JSON.stringify(session))\r\n        window.location.href = this.setting.url.request.edit\r\n      },\r\n\r\n      try_focus () {\r\n        this.step = true\r\n      },\r\n\r\n      try_blur () {\r\n        this.step = false\r\n      },\r\n\r\n      exit () {\r\n        return  window.location.href = this.setting.url.request.index.replace('api/', '')\r\n      }\r\n    }\r\n  } \r\n</script>\r\n\r\n<style>\r\n  table tr > td, table tr > th {\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .table thead th {\r\n    vertical-align: middle;\r\n    padding:3px;\r\n    background: gray;\r\n                    border: 1px solid white;\r\n                    text-align: center;\r\n  }\r\n\r\n  .table td {\r\n    cursor: move;\r\n  }\r\n\r\n  .table td, .table th {\r\n    vertical-align: middle;\r\n    padding: 3px;\r\n  }\r\n\r\n  .table td input, .table th input {\r\n    padding: 3px;\r\n  }\r\n\r\n  .calculator {\r\n    color: black;\r\n  }\r\n\r\n  table.table-striped {\r\n    /*border-top-color: #000; \r\n    border-top-width: 1; \r\n    border-top-style: solid;*/\r\n    border: 3px solid gray;\r\n  }\r\n\r\n  table.table-striped tr.calculator {\r\n    background-color: #fff;\r\n\r\n    border-bottom-color: #000; \r\n    border-bottom-width: 1; \r\n    border-bottom-style: solid;\r\n\r\n    border-top-color: #000; \r\n    border-top-width: 1; \r\n    border-top-style: solid;\r\n  }\r\n\r\n   table {\r\n                    border-collapse: collapse;\r\n                    width: 100%;\r\n                  }\r\n\r\n</style>\r\n\r\n\r\n\r\n<!-- this.model.category_attributes.map(res => \r\n  ({pivot: res.pivot, ...this.model.special.find(s => s.category_attribute_id === res.id).json } || res)\r\n); -->","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Invoice-Edit.vue?vue&type=style&index=0&id=a5339f28&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render } from \"./Invoice-Edit.vue?vue&type=template&id=a5339f28\"\nimport script from \"./Invoice-Edit.vue?vue&type=script&lang=js\"\nexport * from \"./Invoice-Edit.vue?vue&type=script&lang=js\"\n\nimport \"./Invoice-Edit.vue?vue&type=style&index=0&id=a5339f28&lang=css\"\n\nimport exportComponent from \"/home/inservice1/public_html/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["unwrapObj","obj","ignoreKeys","arguments","length","undefined","Object","keys","reduce","o","k","includes","isFunction","val","isProxy","value","callRule","rule","siblingState","instance","call","normalizeValidatorResponse","result","$valid","createValidatorResult","model","$dirty","config","validatorName","propertyKey","propertyPath","$lastInvalidState","$lastCommittedOn","$pending","$params","$response","$invalid","$unwatch","$async","_ref","$lazy","$rewardEarly","watchTargets","$pendingCounter","concat","ruleResult","err","Promise","reject","resolve","then","data","catch","error","immediate","deep","createAsyncResult","$validator","$watchTargets","_ref2","returnValue","createSyncResult","message","$message","$model","$propertyPath","$property","_empty","_call","body","direct","e","setValidations","$validate","f","$touch","unwatch","mergedConfig","$commit","args","i","apply","this","validations","state","key","parentKey","childResults","resultsCache","globalConfig","externalResults","path","rules","nestedValidators","validationsRaw","validationKeys","forEach","v","startsWith","sortValidations","assign","nestedState","s","cachedExternalResults","nestedExternalResults","results","ruleKeys","cachedResult","get","$partial","$path","$reset","ruleKey","$externalResults","map","stringError","index","$uid","r","some","$error","$silentErrors","filter","res","$errors","Date","now","set","createValidationResults","nestedResults","nestedValidationKeys","nestedKey","collectNestedValidationResults","$anyDirty","allResults","allRes","values","every","modelErrors","nestedErrors","errors","nr","createMetaFields","external","$autoDirty","flush","$getResultsForChild","$clearExternalResults","ResultsStorage","constructor","storage","Map","checkRulesValidity","storedRules","storedRulesKeys","newRulesKeys","paramKey","storedRuleResultPair","isValidCache","CollectFlag","COLLECT_ALL","COLLECT_NONE","VuelidateInjectChildResults","Symbol","VuelidateRemoveChildResults","nestedValidations","$scope","childResultsRaw","childResultsKeys","__vuelidateInjectInstances","$registerAs","childScope","$stopPropagation","push","__vuelidateRemoveInstances","childKey","sendValidationResultsToParent","removeValidationResultsFromParent","ComputedProxyFactory","target","Proxy","prop","useVuelidate","currentVueInstance","componentOptions","proxy","$options","uid","_uid","validationResults","vuelidateExternalResults","validationsConfig","validationsWatchTarget","newValidationRules","isObject","Array","isArray","normalizeValidatorObject","validator","unwrapValidatorResponse","unwrapNormalizedValidator","withParams","Error","validatorObj","withMessage","req","isNaN","getTime","_","String","len","regex","_len","expr","_key","reg","test","maxLength","max","type","required","trim","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","iterator","prototype","configurable","writable","_extends","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","host","document","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","name","classList","className","replace","css","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","_this","setTimeout","scrollBy","x","y","Polymer","$","Zepto","dom","cloneNode","expando","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","child","rect","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","splice","arr","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","item","pullMode","lastPutMode","allEventProperties","_excluded","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","sort","disabled","store","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","id","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","composedPath","root","inputs","idx","checked","_saveInputCheckedState","button","isContentEditable","criteria","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","useAnimation","items","destroy","querySelectorAll","removeAttribute","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref3","_ref4","parentSortable","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","removeNode","node","parentElement","insertNodeAt","fatherNode","position","refNode","console","global","cache","camelize","manageAndEmit","emit","manage","eventHandlerNames","flatMap","events","tags","isHtmlAttribute","project","entries","getValidSortableEntries","getHtmlElementFromNode","getContext","domElement","__draggable_context","ComponentStructure","nodes","header","defaultNodes","footer","realList","externalComponent","rootTransition","transition","tag","h","attributes","_isRootComponent","default","context","domIndex","domChildren","firstDomListElement","indexFirstDomListElement","findIndex","getRootInformation","isHtmlTag","resolveComponent","TransitionGroup","computeComponentStructure","$slots","getKey","normalizedList","slotValue","props","computeNodes","evtName","evtData","$emit","toLowerCase","originalElement","delegateCallBack","draggingElement","modelValue","itemKey","Function","original","move","componentData","emits","draggableComponent","defineComponent","inheritAttrs","render","$attrs","componentStructure","getComponentAttributes","color","stack","created","mounted","$el","updated","sortableOptions","callBackBuilder","eventType","eventBuilder","createSortableOption","targetDomElement","_sortable","__draggable_component__","beforeUnmount","computed","watch","handler","newOptionValue","methods","getUnderlyingVm","getUnderlyingPotencialDraggableComponent","htmElement","emitChanges","alterList","onList","newList","spliceList","updatePosition","getRelatedContextFromMoveEvent","component","getVmIndexFromDomIndex","onDragStart","_underlying_vm_","onDragAdd","added","onDragRemove","removed","onDragUpdate","computeFutureIndex","relatedContext","currentDomIndex","currentIndex","onDragMove","futureIndex","draggedContext","onDragEnd","___CSS_LOADER_EXPORT___","module","class","_createElementVNode","for","colspan","components","setup","v$","m","attributeInit","calculator","percenters","initReporteValues","purchaser","subj_name","subj_address","identification_num","category_attributes","Util","agr","showModal","step","names","selectBuilder","newValue","prevValue","recurcive","calc","inputName","attribute","pivot","title","attributeJoinedTree","app","category_id","additional","categories","p1","p2","acumu","init","hasSpecial","special","category_attribute_id","isSpecial","is_special","price","json","service_price","specNum","qty","parseFloat","nextPrice","num","number","ceil","alter","removeRequest","setting","isReserve","isNew","invoice","querySelector","token","$http","url","nested","reserve","response","success","errs","$toast","statusText","remove","isConfirmed","uuid","Swal","fire","location","request","findSpecialAtribute","existInModel","existInSpeciail","parent_uuid","category_type","evaluation_calc","try_exit","special_attributes","setter","selected","send","action","post","gadawera","session","purchaser_id","attributable_id","sessionStorage","setItem","JSON","stringify","edit","try_focus","try_blur","exit","_createElementBlock","_hoisted_7","$setup","$event","_hoisted_9","_hoisted_10","$data","_hoisted_14","_hoisted_17","_hoisted_20","_hoisted_23","_toDisplayString","$props","_hoisted_26","onClick","_hoisted_31","_hoisted_34","_hoisted_36","_createVNode","_component_draggable","_component_request_single_attribute","onAction_focus","onAction_blur","onAction_price","onAction_remove","_hoisted_38","readonly","_hoisted_39","_hoisted_46","_hoisted_47","rel","_createBlock","_component_modal","onExit"],"sourceRoot":""}