{"version":3,"file":"js/vendors/tab.js","mappings":"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","sources":["webpack:///./resources/js/app/components/Tab.vue","webpack:///./resources/js/app/components/Tab.vue?4fdc"],"sourcesContent":["<template>\r\n\t<div class=\"card\" :id=\"'card-'+index\">\r\n\r\n    <div class=\"card-header\" :id=\"`heading${index}`\">\r\n      <h5 class=\"mb-0\">\r\n        <button onclick=\"return false;\" class=\"btn btn-link\" data-toggle=\"collapse\" :data-target=\"`#collapse${index}`\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\r\n          {{`N:${Number(index) + 1}`}}\r\n        </button>\r\n        <button @click=\"e => remove (e, model.items[index] || index)\" class=\"float-right btn btn-link\">\r\n          <i class=\"fas fa-trash\" style=\"font-size: 1.2em; cursor: pointer;\"></i>\r\n        </button>\r\n      </h5>\r\n    </div>\r\n\r\n    <input type=\"hidden\" :name=\"`item[${index}][0][uuid]`\" :value=\"uuid\" />\r\n    <input type=\"hidden\" :name=\"`item[${index}][0][title]`\" value=\"1\" />\r\n    <input type=\"hidden\" :name=\"`item[${index}][0][value]`\" value=\"1\" />\r\n    <input type=\"hidden\" :name=\"`item[${index}][0][parent_uuid]`\" />\r\n\r\n    <div :id=\"`collapse${index}`\" :class=\"`collapse  ${ index == 0 ? 'show' : '' }`\" :aria-labelledby=\"`heading${index}`\" data-parent=\"#accordion\">\r\n\r\n      <div class=\"card-body \">\r\n\r\n        <div class=\"form-group \" v-for=\"(item, i) in tablist\">\r\n          <label for=\"exampleInputEmail1\">{{item.title}}</label>\r\n\r\n          <input type=\"hidden\" :name=\"`item[${index}][${i+1}][uuid]`\" :value=\"item.uuid\" />\r\n          <input type=\"hidden\" :name=\"`item[${index}][${i+1}][parent_uuid]`\" :value=\"item.parent_uuid\" />\r\n          <input type=\"hidden\" :name=\"`item[${index}][${i+1}][title]`\" :value=\"item.title\" />\r\n\r\n          <textarea :name=\"`item[${index}][${i+1}][value]`\" class=\"form-control\">{{item.value}}</textarea>\r\n\r\n        \r\n          <update-media class=\"mt-2\"  :key=\"index\" :index=\"index\" :each=\"i+1\" server=\"/reports/uploads\" :media_server=\"`/reports/uploads2/${item.id}`\"></update-media>\r\n\r\n          <hr/>\r\n      </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport Util from 'Util'\r\n\r\n  import { UploadMedia, UpdateMedia } from '../vendors/vue-media-upload';\r\n\r\n  export default {\r\n    components: {\r\n  \t'update-media' : UpdateMedia\r\n    },\r\n    name: 'tab',\r\n\t     props:['message', 'index', 'res', 'model'],\r\n\r\n  \t   data() {\r\n        return {\r\n          m:{},\r\n          fileRecords: []\r\n        }\r\n      },\r\n\r\n      computed: {\r\n      \tuuid  () {\r\n      \t\treturn this.res.uuid ? this.res.uuid : Util.uuid();\r\n      \t},\r\n\r\n        titles () {\r\n          return ['კვლევის საგნის დახასიათება:', 'დაზიანების პირველადი აღწერილობა:', 'დასკვნა:']\r\n        },\r\n\r\n        tablist () {\r\n          return this.res.nested ? this.res.nested : Array.from({ length: 3 }, (_, i) => ({ title: this.titles[i], uuid:  Util.uuid(), parent_uuid: this.uuid, value: '' }));\r\n        }\r\n      },\r\n\r\n    \tcreated () {\r\n        this.m = this.model;\r\n    \t\tconsole.log('model', this.model)\r\n    \t},\r\n\r\n    \tmethods: {\r\n    \t\tnewUuid () {\r\n      \t\treturn Util.uuid();\r\n      \t },\r\n\r\n         removeRequest (id, callback) {\r\n          console.log('id', id)\r\n\r\n        if (!id) { \r\n          return callback() \r\n        }\r\n\r\n        let action = document.querySelector('form#render').getAttribute('action')\r\n        let token = document.querySelector('meta[name=\"csrf-token\"').getAttribute('content')\r\n\r\n        return this.$http.delete('/reports/' + id, { id }, {\r\n          \"Content-Type\": \"application/json\",\r\n          'X-CSRF-TOKEN': token\r\n        })\r\n        .then(async response => {\r\n          if (response.data.success == true) {\r\n            callback()\r\n          } else {\r\n            response.data.errs.map(item => this.$toast.error(item, { position: 'top-right', duration: 7000 }))\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          if (e.response) this.$toast.error(e.response.statusText, { position: 'top-right', duration: 7000 })\r\n        });\r\n      },\r\n\r\n      remove (e, index) {\r\n        e.preventDefault();\r\n        return  Util.useSwall2(this.m).then((result) => {\r\n          if (result.isConfirmed) {\r\n            let tabIndex = this.m.items.find(i => i.id == index.id);\r\n\r\n            this.removeRequest(tabIndex ? tabIndex.id : null, () => {\r\n              let tabSplace = this.m.items.findIndex(i => i.id == index.id);\r\n              if (tabIndex) { this.m.items.splice(tabSplace, 1); document.querySelector('#card-'+tabSplace).remove() }\r\n              else { document.querySelector('#card-'+index).remove(); }\r\n\r\n              Swal.fire('წაშლა!', 'წაშლა შესრრულდა წარმატებით.', 'success')\r\n            })\r\n          }\r\n        })\r\n\r\n        return false;\r\n      }\r\n  \t}\r\n\r\n\r\n  }\r\n\t\r\n\t\r\n</script>","import { render } from \"./Tab.vue?vue&type=template&id=73bfe5d9\"\nimport script from \"./Tab.vue?vue&type=script&lang=js\"\nexport * from \"./Tab.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/inservice1/public_html/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","for","components","UpdateMedia","name","props","data","m","fileRecords","computed","uuid","this","res","Util","titles","tablist","nested","Array","from","length","_","i","title","parent_uuid","value","created","model","console","log","methods","newUuid","removeRequest","id","callback","document","querySelector","getAttribute","token","$http","then","response","success","errs","map","item","$toast","error","position","duration","e","statusText","remove","index","preventDefault","result","isConfirmed","tabIndex","items","find","tabSplace","findIndex","splice","Swal","fire","_createElementBlock","$props","onclick","Number","_hoisted_4","onClick","$options","type","_normalizeClass","_Fragment","_renderList","_toDisplayString","_hoisted_18","_createBlock","_component_update_media","key","each","server","media_server","_hoisted_19"],"sourceRoot":""}